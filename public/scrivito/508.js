"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[254,508],{2024:(t,e,n)=>{function r(t,e){const n=new Set;return t&&Object.keys(t).forEach(t=>n.add(t)),e&&Object.keys(e).forEach(t=>n.add(t)),Array.from(n).sort()}function i(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}n.d(e,{F:()=>i,s:()=>r})},2687:(t,e,n)=>{n.d(e,{bO:()=>u,kT:()=>a,nl:()=>s});var r=n(788),i=n(5986);const o={};function a(t,e){o[t]=e}function s(t){delete o[t]}function u(t){return o[t]?l.get(t).get():null}const l=(0,i.rL)({loadElement:t=>({stream:new r.RE(e=>{const n=()=>{const n=o[t];e.next(n?function(t){const{left:e,top:n,width:r,height:i}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:i}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)})})})},2880:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>ve,startAppAdapter:()=>he,titleForObj:()=>me});var r=n(7724),i=n(8058),o=n(3221),a=n(8549),s=n(8265),u=n(5968),l=n(8361),c=n(4935),d=n(8457),f=n(6324);const p=(0,f.Ld)();var g=n(4644),m=n(2687),v=n(5089),b=n(7531),y=n(7558),h=n(9909),w=n(6556),j=n(7720),O=n(6974),C=n(3973),I=n(1702),E=n(6875),P=n(8891),k=n(788),D=n(1204),_=n(8403),S=n(8734),M=n(6115),N=n(687);function A(t){const e=(0,S.ED)((0,S.aG)((0,S.eb)()),t);return e&&(0,N.Dy)(e)}var F=n(5614),T=n(5986),x=n(2024),W=n(7917);function R(){return(0,W.VU)().map(t=>function(t){const e=t.name(),n=(0,g.u)(e),r=(0,W.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,W.nx)(e),description:null==n?void 0:n.description,attributes:$(r,null==n?void 0:n.attributes),isSingleton:(0,W.Qk)(e)}}(t))}function $(t,e){return(0,x.s)(t,e).map(n=>function(t,e,n){const[r,i]=e||["string"],[o,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce(([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]],[[],[]])):[];var n}(r,i);return{name:t,type:r,values:o,valuesLocalization:a,title:(0,x.F)(n,i),description:null==n?void 0:n.description,referenceTo:V(r,i),reverseTitle:H(i)}}(n,null==t?void 0:t[n],null==e?void 0:e[n]))}function V(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function H(t){return(0,W.y8)(t)?t.reverseTitle:void 0}var L=Object.defineProperty,B=Object.defineProperties,G=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,K=(t,e,n)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||(e={}))U.call(e,n)&&K(t,n,e[n]);if(z)for(var n of z(e))Y.call(e,n)&&K(t,n,e[n]);return t};function q(){const t=(0,N.Pi)();return Object.keys(t).map(e=>function(t,e){const n=N.Sj.forClass(e);return J({type:"Obj",hasComponent:(0,M.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},Z(t,n))}(e,t[e]))}function Q(){const t=(0,N.Yh)();return Object.keys(t).map(e=>function(t,e){const n=N.Sj.forClass(e);return J({type:"Widget"},Z(t,n))}(e,t[e]))}function X(t,e){return Object.keys(t).map(n=>{const[r,i]=t[n],o=e[n];if(!o)return J({name:n,type:r},i);const a=o,{values:s}=a,u=((t,e)=>{var n={};for(var r in t)U.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&z)for(var r of z(t))e.indexOf(r)<0&&Y.call(t,r)&&(n[r]=t[r]);return n})(a,["values"]);return J((l=J({name:n,type:r},i),B(l,G({hasEditingConfig:!0,valuesLocalization:s}))),u);var l})}function Z(t,e){var n,r,i,o,a,s;const u=null==(n=(0,g.u)(t))?void 0:n.thumbnail,l=null==(r=(0,g.u)(t))?void 0:r.properties;return{attributes:X(e.attributes(),(null==(i=(0,g.u)(t))?void 0:i.attributes)||{}),description:null==(o=(0,g.u)(t))?void 0:o.description,hideInSelectionDialogs:null==(a=(0,g.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,k.Bo)(l)?l:void 0,thumbnail:u&&(0,F.r)(u),title:null==(s=(0,g.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()}}var tt=n(2993),et=Object.defineProperty,nt=Object.defineProperties,rt=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,st=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function ut(){const t=(0,tt.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,k.u4)();if(void 0===r)throw new k.Gd;return s=((t,e)=>{for(var n in e||(e={}))ot.call(e,n)&&st(t,n,e[n]);if(it)for(var n of it(e))at.call(e,n)&&st(t,n,e[n]);return t})({},(i=e).sitePath?i.objId?{type:"page",siteId:i.siteData.siteId,objId:i.objId}:{type:"not found",siteId:i.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(o=i.siteData)?void 0:o.siteId)?a:null}),u={url:r+n.location,version:n.historyChangesCount},nt(s,rt(u));var i,o,a,s,u}function lt(t){return function(t){return(0,T.vD)({state:ct,stream:new k.RE(e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)})})}(t).getWithDefault(null)}const ct=(0,f.Ld)();var dt=n(1446);function ft(t){return function(t){return(0,T.vD)({state:pt,stream:new k.RE(e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)})})}(t).getWithDefault(null)}const pt=(0,f.Ld)();var gt=n(6051),mt=(t,e,n)=>new Promise((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())});function vt(t,e){return mt(this,null,function*(){yield(0,gt.H)().finishReplicatingObj(t,e);const n=yield bt(t,e);n&&yt((0,N.Dy)(n))})}function bt(t,e){return mt(this,null,function*(){return(0,T.Hh)(()=>(0,S.ED)((0,S.Wr)(t),e))})}function yt(t){[t,...t.widgets()].forEach(t=>{var e;const n=null==(e=(0,g.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)})}var ht=Object.defineProperty,wt=Object.defineProperties,jt=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Et=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))Ct.call(e,n)&&Et(t,n,e[n]);if(Ot)for(var n of Ot(e))It.call(e,n)&&Et(t,n,e[n]);return t},kt=(t,e)=>wt(t,jt(e));function Dt(t){var e;const n=t.objClass(),r="properties",i=null==(e=(0,g.u)(n))?void 0:e.properties;if(xt(i))return i;if("function"==typeof i){let e;try{e=i((0,N.Dy)(t))}catch(e){$t(e,t,r)}if(xt(e))return e;throw Vt(n,r,"Properties must be an array of strings or an array of configs")}}function _t(t){var e;const n=t.objClass(),r="propertiesGroups",i=null==(e=(0,g.u)(n))?void 0:e.propertiesGroups;if(Rt(i))return i;if("function"==typeof i){let e;try{e=i((0,N.Dy)(t))}catch(e){$t(e,t,r)}return function(t,e,n){if(!Rt(t))throw Vt(e,n,"The callback return value must be an array of groups");if(!t.every(Tt))throw Vt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some(t=>!t.key)&&new Set(t.map(t=>t.key)).size===t.length}(t))throw Vt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Nt))throw Vt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function St(t,e){return(0,S.ED)((0,S.aG)(t),e)}function Mt(t,e,n){var r;return null==(r=St(t,e))?void 0:r.widget(n)}function Nt(t){return!!function(t){return At(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function At(t){return Gt(t)&&"string"==typeof t.title&&("string"==typeof t.component||Ft(t.component))}function Ft(t){return"function"==typeof t||(0,k.Gv)(t)}function Tt(t){return function(t){return At(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every(t=>"string"==typeof t):function(t){return Gt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&xt(t.properties)}(t)}function xt(t){return Array.isArray(t)&&t.every(t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Gt(n)&&"boolean"==typeof n.enabled}(t)||Wt(t))}function Wt(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Gt(n)&&(Ft(n.component)||null===n.component)}function Rt(t){return Array.isArray(t)&&t.every(t=>{return At(t)||Gt(e=t)&&"string"==typeof e.title&&xt(e.properties);var e})}function $t(t,e,n){throw new k.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof S.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Vt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,k.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Ht(t){return t.map(t=>function(t){return At(t)&&Ft(t.component)}(t)?kt(Pt({},t),{component:null,enabled:Bt(t)}):t.properties?kt(Pt({},t),{properties:Lt(t.properties),enabled:Bt(t)}):kt(Pt({},t),{enabled:Bt(t)}))}function Lt(t){return t.map(t=>Wt(t)?[t[0],{component:null}]:t)}function Bt(t){return"boolean"!=typeof t.enabled||t.enabled}function Gt(t){return(0,k.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var zt=n(4924),Ut=n(5396),Yt=n(1457),Kt=n(3459),Jt=n(5841),qt=Object.defineProperty,Qt=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,te=(t,e,n)=>e in t?qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e,n)=>new Promise((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())});function ne(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){function n(){let n;return n=e.widgetId?function(t,e,n,r,i){const o=ae(e,n,i);return o&&de(t,o,r)||null}(t,e.objId,e.widgetId,e.attributeName,e.useBaseInComparison):function(t,e,n,r){const i=se(e,r);return i&&de(t,i,n)||null}(t,e.objId,e.attributeName,e.useBaseInComparison),null===n?null:"function"==typeof n?(0,Jt.Ng)(n):n}re(n,e)}(r,e):n&&function(t,e){const n=(0,M.K8)(t);if(null===n)throw new k.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);re(()=>n,e)}(n,e)}function re(t,e){return ee(this,null,function*(){const n=yield function(t){return ee(this,null,function*(){return t?function(t){return!!t.widgetId}(t)?function(t){return ee(this,arguments,function*({objId:t,widgetId:e,useBaseInComparison:n,attributeName:r}){const i=yield(0,T.Hh)(()=>ae(t,e,n));if(!i)throw new k.aS(`Missing widget with ID ${e}`);return{widget:(0,N.Dy)(i),attributeName:r}})}(t):function(t){return ee(this,arguments,function*({objId:t,useBaseInComparison:e,attributeName:n}){const r=yield(0,T.Hh)(()=>se(t,e));if(!r)throw new k.aS(`Missing obj with ID ${t}`);const i=(0,N.Dy)(r);return{obj:i,page:i,attributeName:n}})}(t):{}})}(e);(0,Ut.Jm)(function(t){if(function(t){return!!t.page}(t))return t.page.siteId();if(function(t){return!!t.widget}(t))return t.widget.obj().siteId();return null}(n)),(0,M.FM)(zt.createElement(ie,{componentProps:n,getCustomComponent:t}))})}const ie=(0,Jt.Ng)(function({componentProps:t,getCustomComponent:e}){const n=(0,zt.useRef)(null);return n.current||(n.current=e()),n.current?zt.createElement(n.current,((t,e)=>{for(var n in e||(e={}))Xt.call(e,n)&&te(t,n,e[n]);if(Qt)for(var n of Qt(e))Zt.call(e,n)&&te(t,n,e[n]);return t})({},t)):null});function oe(t,e){if(!(0,Yt.gY)())return t((0,S.eb)());const[n,r]=(0,Kt.d)();return void 0===e?t(r)||t(n):t(e?n:r)}function ae(t,e,n){return oe(n=>function(t,e,n){const r=ue(t,e);if(r)return r.widget(n)}(n,t,e),n)}function se(t,e){return oe(e=>ue(e,t),e)}function ue(t,e){return(0,S.ED)((0,S.aG)(t),e)}function le(t){return"function"==typeof t||"object"==typeof t?t:"string"==typeof t?(0,M.K8)(t):null}function ce(t,e,n){const r=_t(e);if(!r)return null;const i=r.find(e=>e.key===t);if(!i)return null;if(n){const t=function(t,e){if("properties"in t&&t.properties){let n;if(t.properties.forEach(t=>{if(Array.isArray(t)&&2===t.length){const[r,i]=t;r==e&&"string"!=typeof i&&"component"in i&&(n=i.component)}}),n)return n}}(i,n);if(t)return le(t)}else if("component"in i&&i.component)return le(i.component);return null}function de(t,e,n){if(t===P.Rt&&n){const t=Dt(e);if(Array.isArray(t))return function(t,e){for(const n of t)if(Wt(n)){const[t,{component:r}]=n;if(t===e&&r)return le(r)}return null}(t,n)}return ce(t,e,n)}function fe(t,e){return n=this,r=null,i=function*(){const n=yield(0,T.Hh)(()=>S.kI.getIncludingDeleted(t));if(!n)return;const r=n.widget(e);r&&(0,M.FM)(zt.createElement(M.i1,{widget:r}))},new Promise((t,e)=>{var o=t=>{try{s(i.next(t))}catch(t){e(t)}},a=t=>{try{s(i.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((i=i.apply(n,r)).next())});var n,r,i}function pe(t){var e;const n=(0,S.ED)((0,S.aG)((0,S.eb)()),t);if(!n)return;const r=n.objClass(),i=null==(e=(0,g.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof i)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof S.yI){const e=ge(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof N.OH&&t.isBinary()){const e=(0,N.zo)(t).blob();if(e){const t=ge(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new k.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(i((0,N.Dy)(n)))}catch(t){(0,k.JL)(t)}}function ge(t){return(0,T.qt)(void 0,()=>t.isImage())}function me(t){var e;const n=A(t);if(!n)return;const r=null==(e=(0,g.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class ve{getAdapterSpec(){return(0,r.A)(P.b_,()=>!0)}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,I.n)((0,u._)(t))}getObjClassForContentTypeMapping(){return(0,l.p)()}getAuthGroups(){return(0,i.N)()}titleForObj(t){return me(t)}descriptionForObj(t){var e;const n=A(t);if(!n)return;const r=null==(e=(0,g.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return pe(t)}generalPropertiesForObj(t,e){return function(t,e){const n=St(t,e);return Lt(n&&Dt(n)||[])}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=Mt(t,e,n);return Lt(r&&Dt(r)||[])}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=St(t,e);if(!n)return[];const r=_t(n);return r&&Ht(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=Mt(t,e,n);if(!r)return[];const i=_t(r);return i&&Ht(i)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=S.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,_.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,h.OG)(t)}initializeContentForWidget(t,e){(0,h.T6)(t,e)}initializeCopy(t){vt((0,S.eb)(),t)}initializeObjCopy(t,e){vt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){mt(this,null,function*(){var r;yield(0,gt.H)().finishReplicatingObj(t,e);const i=null==(r=yield bt(t,e))?void 0:r.widget(n);i&&yt((0,N.Dy)(i))})}(t,e,n)}getClasses(){return(0,T.ql)(()=>[...q(),...Q(),...R()]).map(t=>Object.fromEntries(Object.entries(t).filter(([t,e])=>void 0!==e)))}navigateTo(t){return e=this,n=null,r=function*(){return yield(0,o.vU)({objId:t}),{version:(0,s.lQ)()}},new Promise((t,i)=>{var o=t=>{try{s(r.next(t))}catch(t){i(t)}},a=t=>{try{s(r.throw(t))}catch(t){i(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,n)).next())});var e,n,r}showCustomComponent(t,e){ne(t,e)}showWidgetContent(t,e){fe(t,e)}objReplicationMessageStream(t,e){return D.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return p.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=S.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=(0,dt.vA)(t);if(!e||!e.objId||"/"===e.sitePath)return null;const n={obj_id:e.objId},{hash:r,search:i}=new URL(t,"http://example.com"),o=r.replace(/^#/,"");return o&&(n.fragment=o),i&&(n.query=i),n}(t)}getHomepageId(){const t=(0,O.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,E.uo)(t)}getElementBoundaries(t){return(0,m.bO)(t)}getContentZoneData(){return(0,c.A)()}getCropAspectRatios(){return(0,d.T)()}getCustomComponentDimensions(){return lt((0,k.YE)().querySelector("html"))}getScrollPosition(){return ft((0,k.YE)().querySelector("html"))}getCurrentAppLocation(){return ut()}getValidationReport(t){const e=S.kI.get(t);if(!e)return;const n=(0,_.runValidationsFor)(e),r=function(t){const e=[];return t.forEach(t=>{const n=(0,_.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})}),e}(e.widgets());return{error:be("error",n,r),warning:be("warning",n,r),info:be("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,C.R)(t)}getExtensionsUrl(){return(0,v.q)()}scrollToTop(){(0,k.VG)(0,0)}hasLayoutComponents(){return(0,M.tc)()}getForcedEditorLanguage(){return(0,b.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,S.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,y.L)())?t:null}}function be(t,e,n){return{obj:e.filter(e=>e.severity===t),widgets:n.map(({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter(e=>e.severity===t)}))}}var ye=n(4899);function he(){return(0,ye.zV)(P.b_,new ve,t=>((0,k.JL)(t),t.message))}},4935:(t,e,n)=>{n.d(e,{A:()=>f,n:()=>d});var r=n(788),i=n(6324),o=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))u.call(e,n)&&l(t,n,e[n]);return t};function d(t,e,n){return(0,r.dY)(()=>g(r=>{r[t]={content:e,parentElementId:n}})),()=>(0,r.dY)(()=>g(e=>{delete e[t]}))}function f(){const t=m();return Object.keys(t).map(e=>{const n=parseInt(e,10);return c({elementId:n},t[n])})}const p=(0,i.Ld)();function g(t){const e=c({},m());t(e),p.set(e)}function m(){return p.get()||{}}},6508:(t,e,n)=>{n.r(e),n.d(e,{AttributeValueWithEditing:()=>$,ChildListTagWithEditing:()=>Ht,WidgetPlaceholder:()=>te,WidgetTagWithEditing:()=>Dt,WidgetlistPlaceholder:()=>Yt});var r=n(4924),i=n(9162),o=n(1457),a=n(8403),s=n(6115),u=n(4861),l=n(5841),c=n(1288),d=n(3973),f=n(788),p=n(7917),g=n(5986),m=n(7723),v=n(9063);var b,y=n(6324),h=Object.defineProperty,w=Object.defineProperties,j=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,E=(t,e,n)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,P=(t,e)=>{for(var n in e||(e={}))C.call(e,n)&&E(t,n,e[n]);if(O)for(var n of O(e))I.call(e,n)&&E(t,n,e[n]);return t},k=(t,e)=>w(t,j(e));const D=(0,l.Ng)(function(t){const e=(0,m.iH)(),n=null==e?void 0:e.placeholders,i=(0,a.getGlobalDataVariables)(),o=(null==e?void 0:e.dataStack)?(0,a.getDataStackVariables)(e.dataStack):void 0;return r.createElement(_,k(P({},t),{placeholders:n,dataStackVariables:o,globalDataVariables:i}))}),_=(0,l.Ng)(((b=class extends r.Component{constructor(t){super(t),this.stateChangeCausedByEditor=new f.hl,this.field=this.props.field,this.state={domMode:"None"};const e=this.props.editorClass;if(e){const t={getContent:this.getContent.bind(this),options:this.options.bind(this),setContent:this.setContent.bind(this),setDomMode:this.setDomMode.bind(this),validObjClasses:this.validObjClasses.bind(this),isDataIntegrationActive:p.BF};this.editor=new e({controller:t})}}componentDidMount(){if(!this.editor)return;const t=this.editor;t.editorWillBeActivated();const e=(0,y.Ml)(()=>this.getContent(),()=>{this.stateChangeCausedByEditor.current()||t.contentDidChange()});this.unsubscribe=e.unsubscribe,"Replace"===this.state.domMode&&this.editorDomWasMounted()}componentDidUpdate(t,e){var n;const r=e.domMode,i=this.state.domMode;r!==i&&("Replace"===i?this.editorDomWasMounted():this.editorDomWasUnmounted()),t.globalDataVariables===this.props.globalDataVariables&&t.dataStackVariables===this.props.dataStackVariables||null==(n=this.editor)||n.contentDidChange()}componentWillUnmount(){this.editor&&this.editor.editorWillBeDeactivated(),this.unsubscribe&&this.unsubscribe(),this.unregisterScrollTarget&&this.unregisterScrollTarget()}render(){if("Replace"===this.state.domMode){const t=this.props.customProps,{children:e,dangerouslySetInnerHTML:n}=t,i=((t,e)=>{var n={};for(var r in t)C.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&O)for(var r of O(t))e.indexOf(r)<0&&I.call(t,r)&&(n[r]=t[r]);return n})(t,["children","dangerouslySetInnerHTML"]),o=t=>{t.stopPropagation(),t.preventDefault()};return r.createElement(this.props.tag,k(P({},i),{ref:t=>{this.editorComponent=t},onClick:o}))}let t;const e=this.editor;return e&&e.onClick&&(t=t=>{t.stopPropagation(),t.preventDefault(),e.onClick()}),r.createElement(s.eK,{elementCallback:t=>{this.editorComponent=t},widgetProps:this.props.widgetProps,customProps:this.props.customProps,field:this.props.field,key:this.state.domMode,tag:this.props.tag,onClick:t})}editorDomWasMounted(){if(this.editor&&this.editorComponent){const t=this.editorComponent;this.editor.editorDomWasMounted(t);const e=this.props.field.obj().id(),n=this.props.field.name();this.unregisterScrollTarget=(0,d.a)({objId:e,attributeName:n},t)}}editorDomWasUnmounted(){this.editor&&this.editor.editorDomWasUnmounted()}setDomMode(t){this.setState({domMode:t})}getContent(){return(0,g.Fg)(()=>{if("html"===this.field.type()){const e=this.field.get();return t=e,(0,v.n)(t,{preserveObjId:!0})}var t;return this.field.get()}).result}setContent(t){this.stateChangeCausedByEditor.runWith(!0,()=>this.field.update(t))}options(){const t=P({},(0,c.w)(this.field.getContainer().objClass(),this.field.name(),this.field.type()));if(!(0,p.BF)())return t;const e=(0,a.getDataVariablesFor)(this.field,this.props.placeholders),{dataStackVariables:n,globalDataVariables:r}=this.props;return(n||e||r)&&(t.dataVariables=P(P(P({},e),n),r)),t}validObjClasses(){return this.field.validClasses()}}).displayName="Scrivito.ContentTag.Editor",b));var S=n(8734);var M=Object.defineProperty,N=Object.defineProperties,A=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,W=(t,e,n)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,R=(t,e)=>{for(var n in e||(e={}))T.call(e,n)&&W(t,n,e[n]);if(F)for(var n of F(e))x.call(e,n)&&W(t,n,e[n]);return t};const $=(0,l.Ng)(function(t){const{field:e,tag:n}=t,l=(0,u.S)(e.obj());if(!(0,o.HD)()||!(0,i.V)(e.obj().id()))return r.createElement(s.eK,R({},t));if(l){const i=(0,a.editorRegistrationFor)({type:e.type(),tag:n});if(i){const{id:o,editorClass:a}=i,s=[n,(d=e.getContainer(),d instanceof S.kI?d.id():`${d.obj().id()}|${d.id()}`),e.name(),o].join("|");return r.createElement(D,(c=R({},t),N(c,A({key:s,editorClass:a}))))}}var c,d;return r.createElement(s.eK,R({},t))});var V=n(3459),H=n(1391),L=n(5508),B=n(2747),G=n(1881),z=n(6051),U=n(4935),Y=n(2687),K=Object.defineProperty,J=Object.defineProperties,q=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,tt=(t,e,n)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e)=>{for(var n in e||(e={}))X.call(e,n)&&tt(t,n,e[n]);if(Q)for(var n of Q(e))Z.call(e,n)&&tt(t,n,e[n]);return t},nt=(t,e)=>J(t,q(e));function rt(t){return function(e){const n=r.useMemo(()=>new st,[]);return r.createElement(t,nt(et({},e),{registeredElement:n}))}}function it(t,e){return function(n){const i=r.useContext(ot),o=r.useMemo(()=>new st,[]),a=r.useMemo(()=>t(n),[n]);return r.useEffect(()=>(0,U.n)(o.id(),a,i),[a,i,o]),r.createElement(ot.Provider,{value:o.id()},r.createElement(e,nt(et({},n),{registeredElement:o})))}}const ot=r.createContext(void 0),at=class t{static generateId(){return this.currentId++,this.currentId}constructor(){this.elementId=t.generateId()}id(){return this.elementId}set(t){t?(0,Y.kT)(this.elementId,t):(0,Y.nl)(this.elementId)}};at.currentId=0;let st=at;const ut=rt((0,l.Ng)(function(t){const{markerClassName:e,tooltip:n,disableMenu:i}=function(t){switch(t.modification){case"new":return{tooltip:ct("widget_is_new")};case"edited":switch(t.placementModification){case"new":return{markerClassName:"scrivito_widget_moved_icon",tooltip:ct("widget_is_edited_and_dragged_here")};case"deleted":return{markerClassName:"scrivito_widget_moved_icon",tooltip:ct("widget_is_edited_and_dragged_away"),disableMenu:!0};default:return{tooltip:ct("widget_is_edited")}}case"deleted":return{tooltip:ct("widget_is_deleted")};default:switch(t.placementModification){case"new":return{tooltip:ct("widget_is_dragged_here")};case"deleted":return{tooltip:ct("widget_is_dragged_away")}}}}(t.widgetModification),o=i?void 0:function(e){e.preventDefault(),e.stopPropagation(),(0,z.H)().showWidgetMenu(t.registeredElement.id(),t.widget.obj().id(),t.widget.id(),{objSpaceId:t.widget.objSpaceId()})},s=`scrivito_editing_marker ${null!=e?e:""} ${o?"":"scrivito_disabled"}`;return r.createElement("span",{ref:e=>t.registeredElement.set(e),className:s,title:n,onClick:o,onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut},r.createElement("i",{className:`scrivito_icon ${lt(t.widgetModification)}`}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(t.widget)))}));function lt(t){switch(t.modification){case"new":return"scrivito_icon_inv_plus";case"edited":return"scrivito_icon_edited";case"deleted":return"scrivito_icon_trash";default:return"scrivito_icon_moved"}}function ct(t){return(0,a.uiTranslate)(`widget_marker.${t}`)}const dt=rt((0,l.Ng)(function(t){return r.createElement("span",{ref:e=>t.registeredElement.set(e),className:"scrivito_editing_marker",title:t.tooltip,onClick:function(e){e.preventDefault(),e.stopPropagation(),(0,z.H)().showWidgetMenu(t.registeredElement.id(),t.widget.obj().id(),t.widget.id(),{objSpaceId:t.widget.objSpaceId()})},onMouseOver:t.onMouseOver,onMouseOut:t.onMouseOut,draggable:!0,onDragStart:function({dataTransfer:e,target:n}){e.effectAllowed="move",e.setData("text/plain",n.id),(0,z.H)().startDrag(t.widget.obj().id(),t.widget.id()),t.setDragState(!0)},onDragEnd:function(){(0,z.H)().endDrag(),t.setDragState(!1)}},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(t.widget)))}));function ft(t){return t.map(t=>(0,f.PX)(t.message)[0]).join("\n")}const pt=(0,l.Ng)(function({insertWidget:t,onMouseOut:e,onMouseOver:n,position:i,widget:o}){return r.createElement("span",{className:`scrivito_option_marker scrivito_${i}`,onClick:function(e){e.preventDefault(),e.stopPropagation(),t(o,i)},onMouseOver:n,onMouseOut:e},r.createElement("i",{className:"scrivito_icon scrivito_icon_marker_plus"}))});let gt,mt=0,vt={};var bt=n(687),yt=Object.defineProperty,ht=Object.defineProperties,wt=Object.getOwnPropertyDescriptors,jt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable,It=(t,e,n)=>e in t?yt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Et=(t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&It(t,n,e[n]);if(jt)for(var n of jt(e))Ct.call(e,n)&&It(t,n,e[n]);return t},Pt=(t,e)=>ht(t,wt(e)),kt=(t,e)=>{var n={};for(var r in t)Ot.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&jt)for(var r of jt(t))e.indexOf(r)<0&&Ct.call(t,r)&&(n[r]=t[r]);return n};const Dt=t=>r.createElement(B.K.Consumer,null,e=>r.createElement(St,Et(Et({},e),t))),_t=(0,l.Ng)(function(t){var e;const n=(0,u.S)(t.widget.obj()),[s,l]=r.useState(!1),[c,f]=r.useState(!1),[p,g]=r.useState(!0),[m,v]=r.useState(!1),[b,y]=r.useState(!1),h=r.useRef(void 0),w=r.useRef(void 0),j=r.useRef(void 0),O=r.useRef(!1),C=r.useRef(void 0),I=null==(e=bt.Sj.forInstance((0,bt.Dy)(t.widget)))?void 0:e.attributes();let E=!1,P=!1;if(I){const t=Object.keys(I);E=t.some(t=>{const[e]=I[t];return"widget"===e||"widgetlist"===e}),P=t.some(t=>"data"===t&&"datalocator"===I[t][0])}if(r.useEffect(()=>{const e=C.current;e&&(w.current=(0,d.a)({objId:t.widget.obj().id(),widgetId:t.widget.id()},e,()=>{v(!0),y(t=>!t)}))},[t.widget]),r.useEffect(()=>(h.current=function(t){const e=mt;return vt[e]=t,mt+=1,e}({onFocus:()=>{l(!0),g(!1),F(),E||(j.current=window.setTimeout(()=>{O.current||g(!0)},1e3))},onBlur:()=>l(!1)}),()=>{var t;F(),t=h.current,delete vt[t],w.current&&w.current()}),[E]),(0,o.HD)()){const e=t.widget.obj();if((0,i.V)(e.id()))return n?function(){const e=(0,a.getCachedValidationReportEntries)(t.widget);let n=`scrivito_widget_border ${t.widget.id()}`;(0,L.QS)(t.widget)&&(n+=" scrivito_selected");return r.createElement(t.tag,Et(Pt(Et({},_()),{ref:e=>{R(e),t.registeredElement.set(e)},className:S(),style:M(),onMouseOver:N,onMouseOut:A,children:[r.createElement(dt,{key:"menuMarker",widget:t.widget,tooltip:ft(e),setDragState:f,onMouseOver:T,onMouseOut:x}),...r.Children.toArray(t.children),r.createElement("span",{key:"border",className:n}),W("top"),W("bottom")]}),Mt({validationResults:e,isStructureWidget:E,hasStandardDatalocator:P})))}():k()}if((0,o.gY)()){const e=function(){const e=t.widget.modification((0,V.d)()),n=t.placementModification;if(e)return{modification:e,placementModification:n};if(n)return{placementModification:n}}();if(e&&!function({modification:t,placementModification:e}){return"deleted"===t&&!e}(e))return function(e){return r.createElement(t.tag,Et(Pt(Et({},_()),{ref:R,className:S(),style:M(),onMouseOver:N,onMouseOut:A,children:[r.createElement(ut,{key:"menuMarker",widget:t.widget,widgetModification:e,onMouseOver:T,onMouseOut:x}),...r.Children.toArray(t.children)]}),Mt({modification:e.modification||e.placementModification,isStructureWidget:E,hasStandardDatalocator:P})))}(e)}return k();function k(){return r.createElement(t.tag,Pt(Et({},D()),{ref:R}))}function D(){const e=t,{tag:n,widget:r,placementModification:i,fieldType:o,registeredElement:a}=e;return kt(e,["tag","widget","placementModification","fieldType","registeredElement"])}function _(){const t=D(),{className:e,style:n}=t;return kt(t,["className","style"])}function S(){let e=t.className||"";const n=s&&!p;(0,o.HD)()&&n&&(e+=" scrivito_active scrivito_entered");const r="deleted"===t.placementModification||"deleted"===t.widget.modification((0,V.d)());return(0,o.gY)()&&r&&(e+=" scrivito_modification_opacity"),m&&(e+=b?" scrivito_wiggle_odd":" scrivito_wiggle_even"),e}function M(){return c?t.style?Pt(Et({},t.style),{opacity:.5}):{opacity:.5}:t.style}function N(t){t.stopPropagation(),function(t){gt=t;const e=vt[gt];e&&e.onFocus()}(h.current)}function A(t){t.stopPropagation(),function(t){if(t===gt){const e=vt[t];e&&e.onBlur()}}(h.current)}function F(){j.current&&window.clearTimeout(j.current)}function T(){O.current=!0}function x(){O.current=!1}function W(e){return"widget"===t.fieldType?null:r.createElement(pt,{key:`optionMarker-${e}`,position:e,widget:t.widget,insertWidget:Nt,onMouseOver:T,onMouseOut:x})}function R(e){(0,G.h)(e,t.ref),C.current=e}}),St=it(({widget:t})=>{if(!t)throw new f.Gd;return{type:"widget",objId:t.obj().id(),widgetId:t.id()}},t=>{var e=t,{widget:n}=e,i=kt(e,["widget"]);if(!n)throw new f.aS("Detected inappropriate placing of Scrivito.WidgetTag: It is intended to be used exclusively as top-level element inside a Widget component.");return r.createElement(_t,Et({widget:n},i))});function Mt({modification:t,validationResults:e,isStructureWidget:n,hasStandardDatalocator:r}){const i={"data-scrivito-private-widget":"true","data-scrivito-private-dropzone":"true"};n&&(i["data-scrivito-private-structure-widget"]="true"),n&&r&&(i["data-scrivito-private-data-widget"]="true"),t&&(i["data-scrivito-private-widget-modification"]=t);return["error","warning","info"].forEach(t=>{var n,r;n=t,(r=e)&&r.some(t=>t.severity===n)&&(i[`data-scrivito-private-widget-validation-${t}`]="true")}),i}function Nt(t,e){H.B.insertWidget(t.obj().id(),t.id(),e)}function At({parent:t,registeredElement:e}){return r.createElement("span",{ref:t=>e.set(t),className:"scrivito_editing_marker",onClick:function(n){n.preventDefault(),n.stopPropagation(),(0,z.H)().showChildListMenu(e.id(),t.id())}},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},t.objClass()))}At.displayName="Scrivito.ChildListTag.MenuMarker";const Ft=rt((0,l.Ng)(At));var Tt=Object.defineProperty,xt=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable,$t=(t,e,n)=>e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vt=(t,e)=>{for(var n in e||(e={}))Wt.call(e,n)&&$t(t,n,e[n]);if(xt)for(var n of xt(e))Rt.call(e,n)&&$t(t,n,e[n]);return t};const Ht=(0,l.Ng)(function(t){const e=t,{basicParent:n,tag:i}=e,a=((t,e)=>{var n={};for(var r in t)Wt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&xt)for(var r of xt(t))e.indexOf(r)<0&&Rt.call(t,r)&&(n[r]=t[r]);return n})(e,["basicParent","tag"]),s=(0,u.S)(n),[l,c]=r.useState(!1),d=(0,o.HD)()&&s,f=r.Children.toArray(t.children),p=d?[r.createElement(Ft,{parent:n,key:"menuMarker"}),...f]:f,g=d&&{onMouseOver:v,onMouseOut:b,"data-scrivito-private-child-list-path":!0,className:l?`scrivito_active scrivito_entered ${null!=(m=t.className)?m:""}`:t.className};var m;return r.createElement(i,Vt({},Vt(Vt({},g),a)),p);function v(t){t.stopPropagation(),c(!0)}function b(t){t.stopPropagation(),c(!1)}});var Lt=Object.defineProperty,Bt=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,Ut=(t,e,n)=>e in t?Lt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const Yt=it(t=>((t,e)=>{for(var n in e||(e={}))Gt.call(e,n)&&Ut(t,n,e[n]);if(Bt)for(var n of Bt(e))zt.call(e,n)&&Ut(t,n,e[n]);return t})({type:"widgetlist"},Kt(t.field)),(0,l.Ng)(function(t){const e=r.useRef(null);return r.createElement("div",{ref:n=>{e.current=n,t.registeredElement.set(n)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:function(n){if(n.preventDefault(),n.stopPropagation(),e.current){const{objId:r,widgetId:i,attributeName:o}=Kt(t.field);(0,z.H)().showWidgetlistMenu(t.registeredElement.id(),(0,f.H5)(n,e.current),r,o,i)}}})}));function Kt(t){const e=t.getContainer();return e instanceof S.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}var Jt=Object.defineProperty,qt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Xt=Object.prototype.propertyIsEnumerable,Zt=(t,e,n)=>e in t?Jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const te=it(({field:t})=>((t,e)=>{for(var n in e||(e={}))Qt.call(e,n)&&Zt(t,n,e[n]);if(qt)for(var n of qt(e))Xt.call(e,n)&&Zt(t,n,e[n]);return t})({type:"widgetField"},ee(t)),(0,l.Ng)(function({field:t,registeredElement:e}){const[n,i]=r.useState(null);return r.createElement("div",{ref:t=>{i(t),e.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:function(r){if(r.preventDefault(),r.stopPropagation(),n){const{objId:i,widgetId:o,attributeName:a}=ee(t);(0,z.H)().showWidgetlistMenu(e.id(),(0,f.H5)(r,n),i,a,o)}}})}));function ee(t){const e=t.getContainer();return e instanceof S.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}},8403:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>vt,Team:()=>mt,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>T,getDataStackVariables:()=>it,getDataVariablesFor:()=>at,getGlobalDataVariables:()=>rt,installDndHandler:()=>o,installScrollHandler:()=>y,openContentBrowser:()=>m,registerEditor:()=>l,reloadIfContextChangesFrom:()=>V,runValidationsFor:()=>x,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>K,validationResultsFor:()=>F});var r=n(6051),i=n(788);function o(){const t=(0,i.YE)();t.addEventListener("dragover",t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t)),t.addEventListener("drop",()=>{(0,r.H)().drop()})}var a=n(6324);let s=0,u={};function l(t){const e=(s++,s.toString());u[e]=t;const n=d.get()||[];d.set([...n,e])}function c({type:t,tag:e}){const n=d.get();if(n){const r=n.find(n=>u[n]&&u[n].canEdit({type:t,tag:e}));if(r){return{id:r,editorClass:u[r]}}}}const d=(0,a.Ld)();(0,i.Nj)(function(){s=0,u={},d.clear()});var f=n(1457);function p(){const t=(0,i.YE)().body;t.classList.add("scrivito_editing_active"),(0,f.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,f.gY)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(1702);function m(t={}){return(0,r.H)().openContentBrowser((0,g.n)(t))}const v=30,b=25;function y(){(0,i.YE)().addEventListener("dragover",t=>{const e=t.clientY,n=(0,i.BA)(),r=(0,i.kA)();r>0&&e<v?(0,i.VG)(n,r-b):(0,i.Hj)()>r+(0,i.eU)()&&e>(0,i.eU)()-v&&(0,i.VG)(n,r+b)})}var h=n(4644),w=n(687);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,i.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.u)(e))?void 0:n.title)||(0,i.o3)(e));var e,n}var O=n(6693);const C=["error","warning","info"];function I(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==C.indexOf(e)}(e)&&(0,i.Gv)(n)}var E=n(5986),P=n(8734),k=Object.defineProperty,D=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,M=(t,e,n)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))_.call(e,n)&&M(t,n,e[n]);if(D)for(var n of D(e))S.call(e,n)&&M(t,n,e[n]);return t};const A={error:0,warning:1,info:2};function F(t,e){return function(t,e){(0,P.kq)(t)||(0,i.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,i.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),T(t._scrivitoPrivateContent).filter(t=>(0,i.On)(t)&&t.attributeName===e).sort(({severity:t},{severity:e})=>A[t]-A[e]).map(t=>({message:t.message,severity:t.severity}))}const T=(0,E.rP)([],t=>t instanceof P.kI?t.id():`${t.obj().id()}/${t.id()}`,x);function x(t){var e;const n=t instanceof P.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),o=null==(e=(0,h.u)(r))?void 0:e.validations;if(!o)return[];const a=(0,w.Dy)(t);return o.flatMap(t=>"function"==typeof t?function(t,e){return $(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(W)}(t,a):function(t,e){const[n,...r]=t,o=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,i.iI)(t)||R(t)}(n))return(0,i.JL)(new i.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${o}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(R(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof P.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const s=N({name:n},(l=e,l._scrivitoPrivateContent instanceof P.kI?{content:e,obj:e}:{content:e,widget:e})),u=`Please check validations for the attribute ${n} of the model ${o}. `;var l;return r.flatMap(t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=I(t)?t[1]:t;return(0,O.v)()(e)}(t),i=I(t)&&(null==(e=t[0])?void 0:e.severity);return $(u,r,a,s).map(t=>({attributeName:n,message:t.message,severity:i||t.severity||"error"}))})}(t,a))}function W(t){return{message:t.message,severity:t.severity||"error"}}function R(t){return["_language","_permalink"].includes(t)}function $(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,i.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every(t=>"string"==typeof t)?r.map(t=>({message:t,severity:"error"})):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==C.indexOf(e));var e}(r)?[r]:((0,i.JL)(new i.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function V(t){(0,E.eX)(()=>(0,r.H)().currentEditingContext()).subscribe(e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,i.K5)(n),(0,i.yQ)())})}var H=n(7724),L=n(671),B=n(2024),G=n(4825),z=n(7917),U=n(2880),Y=n(1391);function K(t){if(Y.B)return Y.B.translate(t)}var J=Object.defineProperty,q=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(t,e,n)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))Z.call(e,n)&&et(t,n,e[n]);if(X)for(var n of X(e))tt.call(e,n)&&et(t,n,e[n]);return t};const rt=(0,E.rP)(void 0,function(){const t=(0,z.iW)().reduce((t,e)=>nt(nt({},t),function(t){var e;const n=t.dataClassName(),r=(0,B.s)((0,z.m8)(n),null==(e=(0,h.u)(n))?void 0:e.attributes);if(r.length>0)return function(t,e){const n=t.dataClassName(),r=(0,h.u)(n),i=(0,z.m8)(n),o=dt(n,r);return e.reduce((e,a)=>{var s,u,l;return u=nt({},e),l={[ct(n,a)]:lt({dataClassTitle:o,variableTitle:dt(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==i?void 0:i[a]),variableValue:t.getLocalized(a),isGlobal:!0})},q(u,Q(l))},{})}(t,r);return function(t){const e=t.dataClassName(),n=(0,h.u)(e),r=dt(e,n);return ut({dataItem:t,dataClassName:e,dataClassTitle:r,isGlobal:!0})}(t)}(e)),{});return Object.keys(t).length>0?t:void 0});const it=(0,E.rP)(void 0,function(t){return t.filter(z.o3).map(({_class:t,_id:e})=>`${t}:${e}`).join()},function(t){const e=new Set,n=function(t){return t.map(ot).filter(t=>!!t)}(t).filter(t=>!e.has(t.dataClassName())&&e.add(t.dataClassName())).map(st).filter(t=>!!t);return 0===n.length?void 0:Object.assign({},...n)});function ot(t){var e;if((0,z.o3)(t))return null==(e=(0,z.sf)(t._class))?void 0:e.get(t._id)}function at(t,e){const n=ft(t);if(n)return function(t,e){return(0,H.A)(t,(t,n)=>nt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e)))}(n,e)}function st(t,e){let n,r;const i=t.obj();i&&(n=(0,z.u5)((0,w.zo)(i)),r=n?Object.keys(n):[]);const o={},a=t.dataClassName(),s=(0,h.u)(a),u=(0,z.m8)(a),l=function(t){var e;if(!(0,G.I)(t.dataClassName()))return;const n=null==(e=(0,L.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const i=(0,U.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!i||"string"!=typeof i)return;const o=n.id()===r.id()?` (${K("current_page")||"Current page"})`:"";return`${i} (${r.objClass()})${o}`}(t)||dt(a,s),c=(0,B.s)(u,null==s?void 0:s.attributes),d=(0,G.I)(t.dataClassName())?e:void 0;if(c.length>0)c.forEach(e=>{var n;r&&!r.includes(e)||(o[ct(a,e)]=lt({dataClassTitle:l,variableTitle:dt(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==u?void 0:u[e]),variableValue:t.getLocalized(e),backgroundIndex:d}))});else if(n)Object.entries(n).forEach(([t,e])=>o[ct(a,t)]=lt({dataClassTitle:l,variableTitle:dt(t),variableValue:e,backgroundIndex:d}));else if(t instanceof z.FU)return ut({dataItem:t,dataClassName:a,dataClassTitle:l});return o}function ut({dataItem:t,dataClassName:e,dataClassTitle:n,isGlobal:r}){const i=t.getCustomAttributes(),o=Object.fromEntries(Object.entries(i).map(([t,i])=>[ct(e,t),lt({dataClassTitle:n,variableTitle:dt(t),variableValue:i,isGlobal:r})]));return nt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},o)}function lt({dataClassTitle:t,variableTitle:e,variableValue:n,backgroundIndex:r,isGlobal:i}){return nt(nt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r}),void 0===i?{}:{isGlobal:i})}function ct(t,e){return`${t}.${e}`}function dt(t,e,n){return(0,B.F)(e,null==n?void 0:n[1])||(0,i.o3)(t)}function ft(t){var e;const n=t.getContainer(),r=null==(e=(0,h.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),i=r.class();if(null===i)return;const o=null==(n=(0,h.u)(i))?void 0:n.attributes;if(!o)return;return(0,H.A)(o,(t,e)=>dt(e,t))}(t,e):e}if(n instanceof P.$R){const t=n.obj().fieldContainingWidget(n);if(t)return ft(t)}}var pt=n(9984),gt=n(7842);class mt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class vt extends gt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map(t=>new mt(t))}authToken(t){return(0,pt.d)({audience:t})||""}}}}]);