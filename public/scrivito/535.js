"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[535],{6886:(t,e,n)=>{n.d(e,{A:()=>d,n:()=>f});var r=n(1824),o=n(1946),i=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))u.call(e,n)&&l(t,n,e[n]);return t};function f(t,e,n){return(0,r.dY)((()=>v((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.dY)((()=>v((e=>{delete e[t]}))))}function d(){const t=g();return Object.keys(t).map((e=>{const n=parseInt(e,10);return c({elementId:n},t[n])}))}const p=(0,o.Ld)();function v(t){const e=c({},g());t(e),p.set(e)}function g(){return p.get()||{}}},6200:(t,e,n)=>{n.d(e,{bO:()=>u,kT:()=>a,nl:()=>s});var r=n(1824),o=n(4772);const i={};function a(t,e){i[t]=e}function s(t){delete i[t]}function u(t){return i[t]?l.get(t).get():null}const l=(0,o.rL)({loadElement:t=>({stream:new r.RE((e=>{const n=()=>{const n=i[t];e.next(n?function(t){const{left:e,top:n,width:r,height:o}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:o}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},5771:(t,e,n)=>{function r(t,e){const n=new Set;return t&&Object.keys(t).forEach((t=>n.add(t))),e&&Object.keys(e).forEach((t=>n.add(t))),Array.from(n).sort()}function o(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}n.d(e,{F:()=>o,s:()=>r})},9745:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>yt,Team:()=>bt,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>R,getDataStackVariables:()=>it,getDataVariablesFor:()=>st,getGlobalDataVariables:()=>ot,installDndHandler:()=>i,installScrollHandler:()=>m,openContentBrowser:()=>g,registerEditor:()=>l,reloadIfContextChangesFrom:()=>_,runValidationsFor:()=>L,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>U,validationResultsFor:()=>$});var r=n(7272),o=n(1824);function i(){const t=(0,o.YE)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.H)().drop()}))}var a=n(1946);let s=0,u={};function l(t){const e=(s++,s.toString());u[e]=t;const n=f.get()||[];f.set([...n,e])}function c({type:t,tag:e}){const n=f.get();if(n){const r=n.find((n=>u[n]&&u[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:u[r]}}}}const f=(0,a.Ld)();(0,o.Nj)((function(){s=0,u={},f.clear()}));var d=n(1616);function p(){const t=(0,o.YE)().body;t.classList.add("scrivito_editing_active"),(0,d.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,d.gY)()&&t.setAttribute("data-scrivito-comparison","")}var v=n(7283);function g(t={}){return(0,r.H)().openContentBrowser((0,v.n)(t))}const b=30,y=25;function m(){(0,o.YE)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,o.BA)(),r=(0,o.kA)();r>0&&e<b?(0,o.VG)(n,r-y):(0,o.Hj)()>r+(0,o.eU)()&&e>(0,o.eU)()-b&&(0,o.VG)(n,r+y)}))}var h=n(2295),w=n(7461);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,o.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.u)(e))?void 0:n.title)||(0,o.o3)(e));var e,n}var C=n(1728);const O=["error","warning","info"];function I(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==O.indexOf(e)}(e)&&(0,o.Gv)(n)}var k=n(4772),P=n(5487),D=Object.defineProperty,E=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,x=(t,e,n)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||(e={}))A.call(e,n)&&x(t,n,e[n]);if(E)for(var n of E(e))F.call(e,n)&&x(t,n,e[n]);return t};const S={error:0,warning:1,info:2};function $(t,e){return function(t,e){(0,P.kq)(t)||(0,o.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,o.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),R(t._scrivitoPrivateContent).filter((t=>(0,o.On)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>S[t]-S[e])).map((t=>({message:t.message,severity:t.severity})))}const R=(0,k.rP)([],(t=>t instanceof P.kI?t.id():`${t.obj().id()}/${t.id()}`),L);function L(t){var e;const n=t instanceof P.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),i=null==(e=(0,h.u)(r))?void 0:e.validations;if(!i)return[];const a=(0,w.Dy)(t);return i.flatMap((t=>"function"==typeof t?function(t,e){return V(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(G)}(t,a):function(t,e){const[n,...r]=t,i=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,o.iI)(t)||N(t)}(n))return(0,o.JL)(new o.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${i}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(N(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof P.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const s=T({name:n},(l=e,l._scrivitoPrivateContent instanceof P.kI?{content:e,obj:e}:{content:e,widget:e})),u=`Please check validations for the attribute ${n} of the model ${i}. `;var l;return r.flatMap((t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=I(t)?t[1]:t;return(0,C.v)()(e)}(t),o=I(t)&&(null==(e=t[0])?void 0:e.severity);return V(u,r,a,s).map((t=>({attributeName:n,message:t.message,severity:o||t.severity||"error"})))}))}(t,a)))}function G(t){return{message:t.message,severity:t.severity||"error"}}function N(t){return["_language","_permalink"].includes(t)}function V(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,o.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t,severity:"error"}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==O.indexOf(e));var e}(r)?[r]:((0,o.JL)(new o.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function _(t){(0,k.eX)((()=>(0,r.H)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,o.K5)(n),(0,o.yQ)())}))}var H=n(5796),W=n(5634),z=n(5771),B=n(9708),Y=n(2836),M=n(8887),J=n(5460);function U(t){if(J.B)return J.B.translate(t)}var q=Object.defineProperty,K=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(t,e,n)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))Z.call(e,n)&&et(t,n,e[n]);if(X)for(var n of X(e))tt.call(e,n)&&et(t,n,e[n]);return t},rt=(t,e)=>K(t,Q(e));const ot=(0,k.rP)(void 0,(function(){const t=(0,Y.iW)().reduce(((t,e)=>nt(nt({},t),function(t){var e;const n=t.dataClassName(),r=(0,z.s)((0,Y.m8)(n),null==(e=(0,h.u)(n))?void 0:e.attributes);if(r.length>0)return function(t,e){const n=t.dataClassName(),r=(0,h.u)(n),o=(0,Y.m8)(n),i=dt(n,r);return e.reduce(((e,a)=>{var s;return rt(nt({},e),{[ft(n,a)]:ct({dataClassTitle:i,variableTitle:dt(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==o?void 0:o[a]),variableValue:t.getLocalized(a),isGlobal:!0})})}),{})}(t,r);return function(t){const e=t.dataClassName(),n=(0,h.u)(e),r=dt(e,n);return lt({dataItem:t,dataClassName:e,dataClassTitle:r,isGlobal:!0})}(t)}(e))),{});return Object.keys(t).length>0?t:void 0}));const it=(0,k.rP)(void 0,(function(t){return t.filter(Y.o3).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=new Set,n=function(t){return t.map(at).filter((t=>!!t))}(t).filter((t=>!e.has(t.dataClassName())&&e.add(t.dataClassName()))).map(ut).filter((t=>!!t));return 0===n.length?void 0:Object.assign({},...n)}));function at(t){var e;if((0,Y.o3)(t))return null==(e=(0,Y.sf)(t._class))?void 0:e.get(t._id)}function st(t,e){const n=pt(t);if(n)return function(t,e){return(0,H.A)(t,((t,n)=>nt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function ut(t,e){let n,r;const o=t.obj();o&&(n=(0,Y.u5)((0,w.zo)(o)),r=n?Object.keys(n):[]);const i={},a=t.dataClassName(),s=(0,h.u)(a),u=(0,Y.m8)(a),l=function(t){var e;if(!(0,B.I)(t.dataClassName()))return;const n=null==(e=(0,W.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const o=(0,M.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!o||"string"!=typeof o)return;const i=n.id()===r.id()?` (${U("current_page")||"Current page"})`:"";return`${o} (${r.objClass()})${i}`}(t)||dt(a,s),c=(0,z.s)(u,null==s?void 0:s.attributes),f=(0,B.I)(t.dataClassName())?e:void 0;if(c.length>0)c.forEach((e=>{var n;r&&!r.includes(e)||(i[ft(a,e)]=ct({dataClassTitle:l,variableTitle:dt(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==u?void 0:u[e]),variableValue:t.getLocalized(e),backgroundIndex:f}))}));else if(n)Object.entries(n).forEach((([t,e])=>i[ft(a,t)]=ct({dataClassTitle:l,variableTitle:dt(t),variableValue:e,backgroundIndex:f})));else if(t instanceof Y.FU)return lt({dataItem:t,dataClassName:a,dataClassTitle:l});return i}function lt({dataItem:t,dataClassName:e,dataClassTitle:n,isGlobal:r}){const o=t.getCustomAttributes(),i=Object.fromEntries(Object.entries(o).map((([t,o])=>[ft(e,t),ct({dataClassTitle:n,variableTitle:dt(t),variableValue:o,isGlobal:r})])));return nt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},i)}function ct({dataClassTitle:t,variableTitle:e,variableValue:n,backgroundIndex:r,isGlobal:o}){return nt(nt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r}),void 0===o?{}:{isGlobal:o})}function ft(t,e){return`${t}.${e}`}function dt(t,e,n){return(0,z.F)(e,null==n?void 0:n[1])||(0,o.o3)(t)}function pt(t){var e;const n=t.getContainer(),r=null==(e=(0,h.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),o=r.class();if(null===o)return;const i=null==(n=(0,h.u)(o))?void 0:n.attributes;if(!i)return;return(0,H.A)(i,((t,e)=>dt(e,t)))}(t,e):e}if(n instanceof P.$R){const t=n.obj().fieldContainingWidget(n);if(t)return pt(t)}}var vt=n(2109),gt=n(8589);class bt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class yt extends gt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new bt(t)))}authToken(t){return(0,vt.d)({audience:t})||""}}},8887:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>pe,startAppAdapter:()=>be,titleForObj:()=>de});var r=n(5796),o=n(1579),i=n(4572),a=n(5112),s=n(7478),u=n(349),l=n(2726),c=n(6886),f=n(6942),d=n(1946);const p=(0,d.Ld)();var v=n(2295),g=n(6200),b=n(2026),y=n(5584),m=n(8261),h=n(838),w=n(5788),j=n(9641),C=n(827),O=n(5394),I=n(7283),k=n(4416),P=n(9305),D=n(1824),E=n(7164),A=n(9745),F=n(5487),x=n(5461),T=n(7461);function S(t){const e=(0,F.ED)((0,F.aG)((0,F.eb)()),t);return e&&(0,T.Dy)(e)}var $=n(3617),R=n(4772),L=n(5771),G=n(2836);function N(){return(0,G.VU)().map((t=>function(t){const e=t.name(),n=(0,v.u)(e),r=(0,G.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,G.nx)(e),description:null==n?void 0:n.description,attributes:V(r,null==n?void 0:n.attributes),isSingleton:(0,G.Qk)(e)}}(t)))}function V(t,e){return(0,L.s)(t,e).map((n=>function(t,e,n){const[r,o]=e||["string"],[i,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce((([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]]),[[],[]])):[];var n}(r,o);return{name:t,type:r,values:i,valuesLocalization:a,title:(0,L.F)(n,o),description:null==n?void 0:n.description,referenceTo:_(r,o),reverseTitle:H(o)}}(n,null==t?void 0:t[n],null==e?void 0:e[n])))}function _(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function H(t){return(0,G.y8)(t)?t.reverseTitle:void 0}var W=Object.defineProperty,z=Object.defineProperties,B=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,U=(t,e,n)=>e in t?W(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))M.call(e,n)&&U(t,n,e[n]);if(Y)for(var n of Y(e))J.call(e,n)&&U(t,n,e[n]);return t},K=(t,e)=>z(t,B(e)),Q=(t,e)=>{var n={};for(var r in t)M.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Y)for(var r of Y(t))e.indexOf(r)<0&&J.call(t,r)&&(n[r]=t[r]);return n};function X(){const t=(0,T.Pi)();return Object.keys(t).map((e=>function(t,e){const n=T.Sj.forClass(e);return q({type:"Obj",hasComponent:(0,x.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},tt(t,n))}(e,t[e])))}function Z(){const t=(0,T.Yh)();return Object.keys(t).map((e=>function(t,e){const n=T.Sj.forClass(e);return q({type:"Widget"},tt(t,n))}(e,t[e])))}function tt(t,e){var n,r,o,i,a,s;const u=null==(n=(0,v.u)(t))?void 0:n.thumbnail,l=null==(r=(0,v.u)(t))?void 0:r.properties;return{attributes:(c=e.attributes(),f=(null==(o=(0,v.u)(t))?void 0:o.attributes)||{},Object.keys(c).map((t=>{const[e,n]=c[t],r=f[t];if(!r)return q({name:t,type:e},n);const o=r,{values:i}=o,a=Q(o,["values"]);return q(K(q({name:t,type:e},n),{hasEditingConfig:!0,valuesLocalization:i}),a)}))),description:null==(i=(0,v.u)(t))?void 0:i.description,hideInSelectionDialogs:null==(a=(0,v.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,D.Bo)(l)?l:void 0,thumbnail:u&&(0,$.r)(u),title:null==(s=(0,v.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var c,f}var et=n(9286),nt=Object.defineProperty,rt=Object.defineProperties,ot=Object.getOwnPropertyDescriptors,it=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,ut=(t,e,n)=>e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function lt(){const t=(0,et.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,D.u4)();if(void 0===r)throw new D.Gd;return s=((t,e)=>{for(var n in e||(e={}))at.call(e,n)&&ut(t,n,e[n]);if(it)for(var n of it(e))st.call(e,n)&&ut(t,n,e[n]);return t})({},(o=e).sitePath?o.objId?{type:"page",siteId:o.siteData.siteId,objId:o.objId}:{type:"not found",siteId:o.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(i=o.siteData)?void 0:i.siteId)?a:null}),u={url:r+n.location,version:n.historyChangesCount},rt(s,ot(u));var o,i,a,s,u}function ct(t){return function(t){return(0,R.vD)({state:ft,stream:new D.RE((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)}))})}(t).getWithDefault(null)}const ft=(0,d.Ld)();var dt=n(7183);function pt(t){return function(t){return(0,R.vD)({state:vt,stream:new D.RE((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const vt=(0,d.Ld)();var gt=n(7272),bt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function yt(t,e){return bt(this,null,(function*(){yield(0,gt.H)().finishReplicatingObj(t,e);const n=yield mt(t,e);n&&ht((0,T.Dy)(n))}))}function mt(t,e){return bt(this,null,(function*(){return(0,R.Hh)((()=>(0,F.ED)((0,F.Wr)(t),e)))}))}function ht(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,v.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var wt=Object.defineProperty,jt=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,Ot=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,Pt=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dt=(t,e)=>{for(var n in e||(e={}))It.call(e,n)&&Pt(t,n,e[n]);if(Ot)for(var n of Ot(e))kt.call(e,n)&&Pt(t,n,e[n]);return t},Et=(t,e)=>jt(t,Ct(e));function At(t,e){const n=St(t,e);return n&&xt(n)||[]}function Ft(t,e,n){const r=$t(t,e,n);return r&&xt(r)||[]}function xt(t){var e;const n=t.objClass(),r="properties",o=null==(e=(0,v.u)(n))?void 0:e.properties;if(Vt(o))return o;if("function"==typeof o){let e;try{e=o((0,T.Dy)(t))}catch(e){Wt(e,t,r)}if(Vt(e))return e;throw zt(n,r,"Properties must be an array of strings or an array of configs")}}function Tt(t){var e;const n=t.objClass(),r="propertiesGroups",o=null==(e=(0,v.u)(n))?void 0:e.propertiesGroups;if(Ht(o))return o;if("function"==typeof o){let e;try{e=o((0,T.Dy)(t))}catch(e){Wt(e,t,r)}return function(t,e,n){if(!Ht(t))throw zt(e,n,"The callback return value must be an array of groups");if(!t.every(Nt))throw zt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&new Set(t.map((t=>t.key))).size===t.length}(t))throw zt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Rt))throw zt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function St(t,e){return(0,F.ED)((0,F.aG)(t),e)}function $t(t,e,n){var r;return null==(r=St(t,e))?void 0:r.widget(n)}function Rt(t){return!!function(t){return Lt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function Lt(t){return Mt(t)&&"string"==typeof t.title&&("string"==typeof t.component||Gt(t.component))}function Gt(t){return"function"==typeof t||(0,D.Gv)(t)}function Nt(t){return function(t){return Lt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Mt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&Vt(t.properties)}(t)}function Vt(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Mt(n)&&"boolean"==typeof n.enabled}(t)||_t(t)))}function _t(t){return Array.isArray(t)&&"string"==typeof t[0]&&Mt(t[1])&&"function"==typeof t[1].component}function Ht(t){return Array.isArray(t)&&t.every((t=>{return Lt(t)||Mt(e=t)&&"string"==typeof e.title&&Vt(e.properties);var e}))}function Wt(t,e,n){throw new D.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof F.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function zt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,D.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Bt(t){return t.map((t=>{return function(t){return Lt(t)&&Gt(t.component)}(t)?Et(Dt({},t),{component:null,enabled:Yt(t)}):t.properties?Et(Dt({},t),{properties:(e=t.properties,e.map((t=>_t(t)?[t[0],{component:null}]:t))),enabled:Yt(t)}):Et(Dt({},t),{enabled:Yt(t)});var e}))}function Yt(t){return"boolean"!=typeof t.enabled||t.enabled}function Mt(t){return(0,D.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Jt=n(4924),Ut=n(7639),qt=n(1616),Kt=n(8848),Qt=n(3602),Xt=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));function Zt(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){Xt(this,null,(function*(){const n=yield te(e);let r;if((0,Ut.Jm)(ue(n)),r=e.widgetId?function(t,e,n,r){const o=ee(e,n);return o&&se(t,o,r)||null}(t,e.objId,e.widgetId,e.attributeName):function(t,e,n){const r=re(e);return r&&se(t,r,n)||null}(t,e.objId,e.attributeName),null===r)return;const o=Jt.createElement("function"==typeof r?(0,Qt.Ng)(r):r,n);(0,x.FM)(o)}))}(r,e):n&&function(t,e){const n=(0,x.K8)(t);if(null===n)throw new D.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);!function(t,e){Xt(this,null,(function*(){const n=yield te(e);(0,Ut.Jm)(ue(n)),(0,x.FM)(Jt.createElement(t,n))}))}(n,e)}(n,e)}function te(t){return Xt(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function(t){return Xt(this,arguments,(function*({objId:t,widgetId:e}){const n=yield(0,R.Hh)((()=>ee(t,e)));if(!n)throw new D.aS(`Missing widget with ID ${e}`);return{widget:(0,T.Dy)(n)}}))}(t):function(t){return Xt(this,arguments,(function*({objId:t}){const e=yield(0,R.Hh)((()=>re(t)));if(!e)throw new D.aS(`Missing obj with ID ${t}`);const n=(0,T.Dy)(e);return{obj:n,page:n}}))}(t):{}}))}function ee(t,e){if((0,qt.gY)()){const[n,r]=(0,Kt.d)();return ne(r,t,e)||ne(n,t,e)}return ne((0,F.eb)(),t,e)}function ne(t,e,n){const r=oe(t,e);if(r)return r.widget(n)}function re(t){if((0,qt.gY)()){const[e,n]=(0,Kt.d)();return oe(n,t)||oe(e,t)}return oe((0,F.eb)(),t)}function oe(t,e){return(0,F.ED)((0,F.aG)(t),e)}function ie(t){return"function"==typeof t||"object"==typeof t?t:"string"==typeof t?(0,x.K8)(t):null}function ae(t,e,n){const r=Tt(e);if(!r)return null;const o=r.find((e=>e.key===t));if(!o)return null;if(n){const t=function(t,e){if("properties"in t&&t.properties){let n;if(t.properties.forEach((t=>{if(Array.isArray(t)&&2===t.length){const[r,o]=t;r==e&&"string"!=typeof o&&"component"in o&&(n=o.component)}})),n)return n}}(o,n);if(t)return ie(t)}else if("component"in o&&o.component)return ie(o.component);return null}function se(t,e,n){const r=ae(t,e,n);if(r)return r;const o=e instanceof F.$R?Ft((0,F.eb)(),e.obj().id(),e.id()):At((0,F.eb)(),e.id());if(o)for(const t of o)if(Array.isArray(t)&&2===t.length){const[,e]=t;if("string"!=typeof e&&"component"in e&&e.component)return ie(e.component)}return null}function ue(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}function le(t,e){return n=this,r=null,o=function*(){const n=yield(0,R.Hh)((()=>F.kI.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&(0,x.FM)(Jt.createElement(x.i1,{widget:r}))},new Promise(((t,e)=>{var i=t=>{try{s(o.next(t))}catch(t){e(t)}},a=t=>{try{s(o.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((o=o.apply(n,r)).next())}));var n,r,o}function ce(t){var e;const n=(0,F.ED)((0,F.aG)((0,F.eb)()),t);if(!n)return;const r=n.objClass(),o=null==(e=(0,v.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof o)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof F.yI){const e=fe(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof T.OH&&t.isBinary()){const e=(0,T.zo)(t).get("blob",["binary"]);if(e){const t=fe(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new D.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(o((0,T.Dy)(n)))}catch(t){(0,D.JL)(t)}}function fe(t){return(0,R.qt)(void 0,(()=>t.isImage()))}function de(t){var e;const n=S(t);if(!n)return;const r=null==(e=(0,v.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class pe{getAdapterSpec(){return(0,r.A)(P.b_,(()=>!0))}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,I.n)((0,u._)(t))}getObjClassForContentTypeMapping(){return(0,l.p)()}getAuthGroups(){return(0,o.N)()}titleForObj(t){return de(t)}descriptionForObj(t){var e;const n=S(t);if(!n)return;const r=null==(e=(0,v.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ce(t)}generalPropertiesForObj(t,e){return At(t,e)}generalPropertiesForWidget(t,e,n){return Ft(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=St(t,e);if(!n)return[];const r=Tt(n);return r&&Bt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=$t(t,e,n);if(!r)return[];const o=Tt(r);return o&&Bt(o)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=F.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,A.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,h.OG)(t)}initializeContentForWidget(t,e){(0,h.T6)(t,e)}initializeCopy(t){yt((0,F.eb)(),t)}initializeObjCopy(t,e){yt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){bt(this,null,(function*(){var r;yield(0,gt.H)().finishReplicatingObj(t,e);const o=null==(r=yield mt(t,e))?void 0:r.widget(n);o&&ht((0,T.Dy)(o))}))}(t,e,n)}getClasses(){return(0,R.ql)((()=>[...X(),...Z(),...N()])).map((t=>Object.fromEntries(Object.entries(t).filter((([t,e])=>void 0!==e)))))}navigateTo(t){return e=this,n=null,r=function*(){return yield(0,i.vU)({objId:t}),{version:(0,s.lQ)()}},new Promise(((t,o)=>{var i=t=>{try{s(r.next(t))}catch(t){o(t)}},a=t=>{try{s(r.throw(t))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,n)).next())}));var e,n,r}showCustomComponent(t,e){Zt(t,e)}showWidgetContent(t,e){le(t,e)}objReplicationMessageStream(t,e){return E.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return p.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=F.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=(0,dt.vA)(t);if(!e||!e.objId||"/"===e.sitePath)return null;const n={obj_id:e.objId},{hash:r,search:o}=new URL(t,"http://example.com"),i=r.replace(/^#/,"");return i&&(n.fragment=i),o&&(n.query=o),n}(t)}getHomepageId(){const t=(0,C.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,k.uo)(t)}getElementBoundaries(t){return(0,g.bO)(t)}getContentZoneData(){return(0,c.A)()}getCropAspectRatios(){return(0,f.T)()}getCustomComponentDimensions(){return ct((0,D.YE)().querySelector("html"))}getScrollPosition(){return pt((0,D.YE)().querySelector("html"))}getCurrentAppLocation(){return lt()}getValidationReport(t){const e=F.kI.get(t);if(!e)return;const n=(0,A.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,A.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:ve("error",n,r),warning:ve("warning",n,r),info:ve("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,O.R)(t)}getExtensionsUrl(){return(0,b.q)()}scrollToTop(){(0,D.VG)(0,0)}hasLayoutComponents(){return(0,x.tc)()}getForcedEditorLanguage(){return(0,y.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,F.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,m.L)())?t:null}}function ve(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}var ge=n(9564);function be(){return(0,ge.zV)(P.b_,new pe,(t=>((0,D.JL)(t),t.message)))}}}]);