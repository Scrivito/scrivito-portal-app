"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[254],{2024:(t,e,n)=>{function r(t,e){const n=new Set;return t&&Object.keys(t).forEach(t=>n.add(t)),e&&Object.keys(e).forEach(t=>n.add(t)),Array.from(n).sort()}function o(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}n.d(e,{F:()=>o,s:()=>r})},2687:(t,e,n)=>{n.d(e,{bO:()=>s,kT:()=>a,nl:()=>u});var r=n(788),o=n(5986);const i={};function a(t,e){i[t]=e}function u(t){delete i[t]}function s(t){return i[t]?l.get(t).get():null}const l=(0,o.rL)({loadElement:t=>({stream:new r.RE(e=>{const n=()=>{const n=i[t];e.next(n?function(t){const{left:e,top:n,width:r,height:o}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:o}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)})})})},2880:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>be,startAppAdapter:()=>he,titleForObj:()=>ge});var r=n(7724),o=n(8058),i=n(3221),a=n(8549),u=n(8265),s=n(5968),l=n(8361),c=n(4935),f=n(8457),d=n(6324);const p=(0,d.Ld)();var v=n(4644),g=n(2687),b=n(5089),y=n(7531),m=n(7558),h=n(9909),w=n(6556),j=n(7720),C=n(6974),O=n(3973),I=n(1702),P=n(6875),k=n(8891),D=n(788),E=n(1204),A=n(8403),F=n(8734),x=n(6115),T=n(687);function S(t){const e=(0,F.ED)((0,F.aG)((0,F.eb)()),t);return e&&(0,T.Dy)(e)}var R=n(5614),$=n(5986),N=n(2024),L=n(7917);function G(){return(0,L.VU)().map(t=>function(t){const e=t.name(),n=(0,v.u)(e),r=(0,L.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,L.nx)(e),description:null==n?void 0:n.description,attributes:V(r,null==n?void 0:n.attributes),isSingleton:(0,L.Qk)(e)}}(t))}function V(t,e){return(0,N.s)(t,e).map(n=>function(t,e,n){const[r,o]=e||["string"],[i,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce(([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]],[[],[]])):[];var n}(r,o);return{name:t,type:r,values:i,valuesLocalization:a,title:(0,N.F)(n,o),description:null==n?void 0:n.description,referenceTo:_(r,o),reverseTitle:H(o)}}(n,null==t?void 0:t[n],null==e?void 0:e[n]))}function _(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function H(t){return(0,L.y8)(t)?t.reverseTitle:void 0}var B=Object.defineProperty,W=Object.defineProperties,z=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,J=(t,e,n)=>e in t?B(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q=(t,e)=>{for(var n in e||(e={}))M.call(e,n)&&J(t,n,e[n]);if(Y)for(var n of Y(e))U.call(e,n)&&J(t,n,e[n]);return t};function K(){const t=(0,T.Pi)();return Object.keys(t).map(e=>function(t,e){const n=T.Sj.forClass(e);return q({type:"Obj",hasComponent:(0,x.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},Z(t,n))}(e,t[e]))}function Q(){const t=(0,T.Yh)();return Object.keys(t).map(e=>function(t,e){const n=T.Sj.forClass(e);return q({type:"Widget"},Z(t,n))}(e,t[e]))}function X(t,e){return Object.keys(t).map(n=>{const[r,o]=t[n],i=e[n];if(!i)return q({name:n,type:r},o);const a=i,{values:u}=a,s=((t,e)=>{var n={};for(var r in t)M.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Y)for(var r of Y(t))e.indexOf(r)<0&&U.call(t,r)&&(n[r]=t[r]);return n})(a,["values"]);return q((l=q({name:n,type:r},o),W(l,z({hasEditingConfig:!0,valuesLocalization:u}))),s);var l})}function Z(t,e){var n,r,o,i,a,u;const s=null==(n=(0,v.u)(t))?void 0:n.thumbnail,l=null==(r=(0,v.u)(t))?void 0:r.properties;return{attributes:X(e.attributes(),(null==(o=(0,v.u)(t))?void 0:o.attributes)||{}),description:null==(i=(0,v.u)(t))?void 0:i.description,hideInSelectionDialogs:null==(a=(0,v.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,D.Bo)(l)?l:void 0,thumbnail:s&&(0,R.r)(s),title:null==(u=(0,v.u)(t))?void 0:u.title,extractTextAttributes:e.extractTextAttributes()}}var tt=n(2993),et=Object.defineProperty,nt=Object.defineProperties,rt=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,at=Object.prototype.propertyIsEnumerable,ut=(t,e,n)=>e in t?et(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function st(){const t=(0,tt.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,D.u4)();if(void 0===r)throw new D.Gd;return u=((t,e)=>{for(var n in e||(e={}))it.call(e,n)&&ut(t,n,e[n]);if(ot)for(var n of ot(e))at.call(e,n)&&ut(t,n,e[n]);return t})({},(o=e).sitePath?o.objId?{type:"page",siteId:o.siteData.siteId,objId:o.objId}:{type:"not found",siteId:o.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(i=o.siteData)?void 0:i.siteId)?a:null}),s={url:r+n.location,version:n.historyChangesCount},nt(u,rt(s));var o,i,a,u,s}function lt(t){return function(t){return(0,$.vD)({state:ct,stream:new D.RE(e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)})})}(t).getWithDefault(null)}const ct=(0,d.Ld)();var ft=n(1446);function dt(t){return function(t){return(0,$.vD)({state:pt,stream:new D.RE(e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)})})}(t).getWithDefault(null)}const pt=(0,d.Ld)();var vt=n(6051),gt=(t,e,n)=>new Promise((r,o)=>{var i=t=>{try{u(n.next(t))}catch(t){o(t)}},a=t=>{try{u(n.throw(t))}catch(t){o(t)}},u=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);u((n=n.apply(t,e)).next())});function bt(t,e){return gt(this,null,function*(){yield(0,vt.H)().finishReplicatingObj(t,e);const n=yield yt(t,e);n&&mt((0,T.Dy)(n))})}function yt(t,e){return gt(this,null,function*(){return(0,$.Hh)(()=>(0,F.ED)((0,F.Wr)(t),e))})}function mt(t){[t,...t.widgets()].forEach(t=>{var e;const n=null==(e=(0,v.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)})}var ht=Object.defineProperty,wt=Object.defineProperties,jt=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,Pt=(t,e,n)=>e in t?ht(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kt=(t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&Pt(t,n,e[n]);if(Ct)for(var n of Ct(e))It.call(e,n)&&Pt(t,n,e[n]);return t},Dt=(t,e)=>wt(t,jt(e));function Et(t){var e;const n=t.objClass(),r="properties",o=null==(e=(0,v.u)(n))?void 0:e.properties;if(Nt(o))return o;if("function"==typeof o){let e;try{e=o((0,T.Dy)(t))}catch(e){Vt(e,t,r)}if(Nt(e))return e;throw _t(n,r,"Properties must be an array of strings or an array of configs")}}function At(t){var e;const n=t.objClass(),r="propertiesGroups",o=null==(e=(0,v.u)(n))?void 0:e.propertiesGroups;if(Gt(o))return o;if("function"==typeof o){let e;try{e=o((0,T.Dy)(t))}catch(e){Vt(e,t,r)}return function(t,e,n){if(!Gt(t))throw _t(e,n,"The callback return value must be an array of groups");if(!t.every($t))throw _t(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some(t=>!t.key)&&new Set(t.map(t=>t.key)).size===t.length}(t))throw _t(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Tt))throw _t(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function Ft(t,e){return(0,F.ED)((0,F.aG)(t),e)}function xt(t,e,n){var r;return null==(r=Ft(t,e))?void 0:r.widget(n)}function Tt(t){return!!function(t){return St(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function St(t){return zt(t)&&"string"==typeof t.title&&("string"==typeof t.component||Rt(t.component))}function Rt(t){return"function"==typeof t||(0,D.Gv)(t)}function $t(t){return function(t){return St(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every(t=>"string"==typeof t):function(t){return zt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&Nt(t.properties)}(t)}function Nt(t){return Array.isArray(t)&&t.every(t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&zt(n)&&"boolean"==typeof n.enabled}(t)||Lt(t))}function Lt(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&zt(n)&&(Rt(n.component)||null===n.component)}function Gt(t){return Array.isArray(t)&&t.every(t=>{return St(t)||zt(e=t)&&"string"==typeof e.title&&Nt(e.properties);var e})}function Vt(t,e,n){throw new D.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof F.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function _t(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,D.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Ht(t){return t.map(t=>function(t){return St(t)&&Rt(t.component)}(t)?Dt(kt({},t),{component:null,enabled:Wt(t)}):t.properties?Dt(kt({},t),{properties:Bt(t.properties),enabled:Wt(t)}):Dt(kt({},t),{enabled:Wt(t)}))}function Bt(t){return t.map(t=>Lt(t)?[t[0],{component:null}]:t)}function Wt(t){return"boolean"!=typeof t.enabled||t.enabled}function zt(t){return(0,D.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Yt=n(4924),Mt=n(5396),Ut=n(1457),Jt=n(3459),qt=n(5841),Kt=Object.defineProperty,Qt=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,te=(t,e,n)=>e in t?Kt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ee=(t,e,n)=>new Promise((r,o)=>{var i=t=>{try{u(n.next(t))}catch(t){o(t)}},a=t=>{try{u(n.throw(t))}catch(t){o(t)}},u=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);u((n=n.apply(t,e)).next())});function ne(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){function n(){let n;return n=e.widgetId?function(t,e,n,r,o){const i=ae(e,n,o);return i&&fe(t,i,r)||null}(t,e.objId,e.widgetId,e.attributeName,e.useBaseInComparison):function(t,e,n,r){const o=ue(e,r);return o&&fe(t,o,n)||null}(t,e.objId,e.attributeName,e.useBaseInComparison),null===n?null:"function"==typeof n?(0,qt.Ng)(n):n}re(n,e)}(r,e):n&&function(t,e){const n=(0,x.K8)(t);if(null===n)throw new D.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);re(()=>n,e)}(n,e)}function re(t,e){return ee(this,null,function*(){const n=yield function(t){return ee(this,null,function*(){return t?function(t){return!!t.widgetId}(t)?function(t){return ee(this,arguments,function*({objId:t,widgetId:e,useBaseInComparison:n,attributeName:r}){const o=yield(0,$.Hh)(()=>ae(t,e,n));if(!o)throw new D.aS(`Missing widget with ID ${e}`);return{widget:(0,T.Dy)(o),attributeName:r}})}(t):function(t){return ee(this,arguments,function*({objId:t,useBaseInComparison:e,attributeName:n}){const r=yield(0,$.Hh)(()=>ue(t,e));if(!r)throw new D.aS(`Missing obj with ID ${t}`);const o=(0,T.Dy)(r);return{obj:o,page:o,attributeName:n}})}(t):{}})}(e);(0,Mt.Jm)(function(t){if(function(t){return!!t.page}(t))return t.page.siteId();if(function(t){return!!t.widget}(t))return t.widget.obj().siteId();return null}(n)),(0,x.FM)(Yt.createElement(oe,{componentProps:n,getCustomComponent:t}))})}const oe=(0,qt.Ng)(function({componentProps:t,getCustomComponent:e}){const n=(0,Yt.useRef)(null);return n.current||(n.current=e()),n.current?Yt.createElement(n.current,((t,e)=>{for(var n in e||(e={}))Xt.call(e,n)&&te(t,n,e[n]);if(Qt)for(var n of Qt(e))Zt.call(e,n)&&te(t,n,e[n]);return t})({},t)):null});function ie(t,e){if(!(0,Ut.gY)())return t((0,F.eb)());const[n,r]=(0,Jt.d)();return void 0===e?t(r)||t(n):t(e?n:r)}function ae(t,e,n){return ie(n=>function(t,e,n){const r=se(t,e);if(r)return r.widget(n)}(n,t,e),n)}function ue(t,e){return ie(e=>se(e,t),e)}function se(t,e){return(0,F.ED)((0,F.aG)(t),e)}function le(t){return"function"==typeof t||"object"==typeof t?t:"string"==typeof t?(0,x.K8)(t):null}function ce(t,e,n){const r=At(e);if(!r)return null;const o=r.find(e=>e.key===t);if(!o)return null;if(n){const t=function(t,e){if("properties"in t&&t.properties){let n;if(t.properties.forEach(t=>{if(Array.isArray(t)&&2===t.length){const[r,o]=t;r==e&&"string"!=typeof o&&"component"in o&&(n=o.component)}}),n)return n}}(o,n);if(t)return le(t)}else if("component"in o&&o.component)return le(o.component);return null}function fe(t,e,n){if(t===k.Rt&&n){const t=Et(e);if(Array.isArray(t))return function(t,e){for(const n of t)if(Lt(n)){const[t,{component:r}]=n;if(t===e&&r)return le(r)}return null}(t,n)}return ce(t,e,n)}function de(t,e){return n=this,r=null,o=function*(){const n=yield(0,$.Hh)(()=>F.kI.getIncludingDeleted(t));if(!n)return;const r=n.widget(e);r&&(0,x.FM)(Yt.createElement(x.i1,{widget:r}))},new Promise((t,e)=>{var i=t=>{try{u(o.next(t))}catch(t){e(t)}},a=t=>{try{u(o.throw(t))}catch(t){e(t)}},u=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);u((o=o.apply(n,r)).next())});var n,r,o}function pe(t){var e;const n=(0,F.ED)((0,F.aG)((0,F.eb)()),t);if(!n)return;const r=n.objClass(),o=null==(e=(0,v.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof o)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof F.yI){const e=ve(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof T.OH&&t.isBinary()){const e=(0,T.zo)(t).blob();if(e){const t=ve(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new D.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(o((0,T.Dy)(n)))}catch(t){(0,D.JL)(t)}}function ve(t){return(0,$.qt)(void 0,()=>t.isImage())}function ge(t){var e;const n=S(t);if(!n)return;const r=null==(e=(0,v.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class be{getAdapterSpec(){return(0,r.A)(k.b_,()=>!0)}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,I.n)((0,s._)(t))}getObjClassForContentTypeMapping(){return(0,l.p)()}getAuthGroups(){return(0,o.N)()}titleForObj(t){return ge(t)}descriptionForObj(t){var e;const n=S(t);if(!n)return;const r=null==(e=(0,v.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return pe(t)}generalPropertiesForObj(t,e){return function(t,e){const n=Ft(t,e);return Bt(n&&Et(n)||[])}(t,e)}generalPropertiesForWidget(t,e,n){return function(t,e,n){const r=xt(t,e,n);return Bt(r&&Et(r)||[])}(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=Ft(t,e);if(!n)return[];const r=At(n);return r&&Ht(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=xt(t,e,n);if(!r)return[];const o=At(r);return o&&Ht(o)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=F.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,A.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,h.OG)(t)}initializeContentForWidget(t,e){(0,h.T6)(t,e)}initializeCopy(t){bt((0,F.eb)(),t)}initializeObjCopy(t,e){bt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){gt(this,null,function*(){var r;yield(0,vt.H)().finishReplicatingObj(t,e);const o=null==(r=yield yt(t,e))?void 0:r.widget(n);o&&mt((0,T.Dy)(o))})}(t,e,n)}getClasses(){return(0,$.ql)(()=>[...K(),...Q(),...G()]).map(t=>Object.fromEntries(Object.entries(t).filter(([t,e])=>void 0!==e)))}navigateTo(t){return e=this,n=null,r=function*(){return yield(0,i.vU)({objId:t}),{version:(0,u.lQ)()}},new Promise((t,o)=>{var i=t=>{try{u(r.next(t))}catch(t){o(t)}},a=t=>{try{u(r.throw(t))}catch(t){o(t)}},u=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);u((r=r.apply(e,n)).next())});var e,n,r}showCustomComponent(t,e){ne(t,e)}showWidgetContent(t,e){de(t,e)}objReplicationMessageStream(t,e){return E.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return p.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=F.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=(0,ft.vA)(t);if(!e||!e.objId||"/"===e.sitePath)return null;const n={obj_id:e.objId},{hash:r,search:o}=new URL(t,"http://example.com"),i=r.replace(/^#/,"");return i&&(n.fragment=i),o&&(n.query=o),n}(t)}getHomepageId(){const t=(0,C.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,P.uo)(t)}getElementBoundaries(t){return(0,g.bO)(t)}getContentZoneData(){return(0,c.A)()}getCropAspectRatios(){return(0,f.T)()}getCustomComponentDimensions(){return lt((0,D.YE)().querySelector("html"))}getScrollPosition(){return dt((0,D.YE)().querySelector("html"))}getCurrentAppLocation(){return st()}getValidationReport(t){const e=F.kI.get(t);if(!e)return;const n=(0,A.runValidationsFor)(e),r=function(t){const e=[];return t.forEach(t=>{const n=(0,A.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})}),e}(e.widgets());return{error:ye("error",n,r),warning:ye("warning",n,r),info:ye("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,O.R)(t)}getExtensionsUrl(){return(0,b.q)()}scrollToTop(){(0,D.VG)(0,0)}hasLayoutComponents(){return(0,x.tc)()}getForcedEditorLanguage(){return(0,y.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,F.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,m.L)())?t:null}}function ye(t,e,n){return{obj:e.filter(e=>e.severity===t),widgets:n.map(({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter(e=>e.severity===t)}))}}var me=n(4899);function he(){return(0,me.zV)(k.b_,new be,t=>((0,D.JL)(t),t.message))}},4935:(t,e,n)=>{n.d(e,{A:()=>d,n:()=>f});var r=n(788),o=n(6324),i=Object.defineProperty,a=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,l=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c=(t,e)=>{for(var n in e||(e={}))u.call(e,n)&&l(t,n,e[n]);if(a)for(var n of a(e))s.call(e,n)&&l(t,n,e[n]);return t};function f(t,e,n){return(0,r.dY)(()=>v(r=>{r[t]={content:e,parentElementId:n}})),()=>(0,r.dY)(()=>v(e=>{delete e[t]}))}function d(){const t=g();return Object.keys(t).map(e=>{const n=parseInt(e,10);return c({elementId:n},t[n])})}const p=(0,o.Ld)();function v(t){const e=c({},g());t(e),p.set(e)}function g(){return p.get()||{}}},8403:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>bt,Team:()=>gt,editorRegistrationFor:()=>c,getCachedValidationReportEntries:()=>$,getDataStackVariables:()=>ot,getDataVariablesFor:()=>at,getGlobalDataVariables:()=>rt,installDndHandler:()=>i,installScrollHandler:()=>m,openContentBrowser:()=>g,registerEditor:()=>l,reloadIfContextChangesFrom:()=>_,runValidationsFor:()=>N,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>J,validationResultsFor:()=>R});var r=n(6051),o=n(788);function i(){const t=(0,o.YE)();t.addEventListener("dragover",t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t)),t.addEventListener("drop",()=>{(0,r.H)().drop()})}var a=n(6324);let u=0,s={};function l(t){const e=(u++,u.toString());s[e]=t;const n=f.get()||[];f.set([...n,e])}function c({type:t,tag:e}){const n=f.get();if(n){const r=n.find(n=>s[n]&&s[n].canEdit({type:t,tag:e}));if(r){return{id:r,editorClass:s[r]}}}}const f=(0,a.Ld)();(0,o.Nj)(function(){u=0,s={},f.clear()});var d=n(1457);function p(){const t=(0,o.YE)().body;t.classList.add("scrivito_editing_active"),(0,d.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,d.gY)()&&t.setAttribute("data-scrivito-comparison","")}var v=n(1702);function g(t={}){return(0,r.H)().openContentBrowser((0,v.n)(t))}const b=30,y=25;function m(){(0,o.YE)().addEventListener("dragover",t=>{const e=t.clientY,n=(0,o.BA)(),r=(0,o.kA)();r>0&&e<b?(0,o.VG)(n,r-y):(0,o.Hj)()>r+(0,o.eU)()&&e>(0,o.eU)()-b&&(0,o.VG)(n,r+y)})}var h=n(4644),w=n(687);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,h.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,o.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,h.u)(e))?void 0:n.title)||(0,o.o3)(e));var e,n}var C=n(6693);const O=["error","warning","info"];function I(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==O.indexOf(e)}(e)&&(0,o.Gv)(n)}var P=n(5986),k=n(8734),D=Object.defineProperty,E=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,x=(t,e,n)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||(e={}))A.call(e,n)&&x(t,n,e[n]);if(E)for(var n of E(e))F.call(e,n)&&x(t,n,e[n]);return t};const S={error:0,warning:1,info:2};function R(t,e){return function(t,e){(0,k.kq)(t)||(0,o.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,o.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),$(t._scrivitoPrivateContent).filter(t=>(0,o.On)(t)&&t.attributeName===e).sort(({severity:t},{severity:e})=>S[t]-S[e]).map(t=>({message:t.message,severity:t.severity}))}const $=(0,P.rP)([],t=>t instanceof k.kI?t.id():`${t.obj().id()}/${t.id()}`,N);function N(t){var e;const n=t instanceof k.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),i=null==(e=(0,h.u)(r))?void 0:e.validations;if(!i)return[];const a=(0,w.Dy)(t);return i.flatMap(t=>"function"==typeof t?function(t,e){return V(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(L)}(t,a):function(t,e){const[n,...r]=t,i=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,o.iI)(t)||G(t)}(n))return(0,o.JL)(new o.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${i}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if(G(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof k.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const u=T({name:n},(l=e,l._scrivitoPrivateContent instanceof k.kI?{content:e,obj:e}:{content:e,widget:e})),s=`Please check validations for the attribute ${n} of the model ${i}. `;var l;return r.flatMap(t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=I(t)?t[1]:t;return(0,C.v)()(e)}(t),o=I(t)&&(null==(e=t[0])?void 0:e.severity);return V(s,r,a,u).map(t=>({attributeName:n,message:t.message,severity:o||t.severity||"error"}))})}(t,a))}function L(t){return{message:t.message,severity:t.severity||"error"}}function G(t){return["_language","_permalink"].includes(t)}function V(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,o.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every(t=>"string"==typeof t)?r.map(t=>({message:t,severity:"error"})):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==O.indexOf(e));var e}(r)?[r]:((0,o.JL)(new o.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,o.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function _(t){(0,P.eX)(()=>(0,r.H)().currentEditingContext()).subscribe(e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,o.K5)(n),(0,o.yQ)())})}var H=n(7724),B=n(671),W=n(2024),z=n(4825),Y=n(7917),M=n(2880),U=n(1391);function J(t){if(U.B)return U.B.translate(t)}var q=Object.defineProperty,K=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(t,e,n)=>e in t?q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))Z.call(e,n)&&et(t,n,e[n]);if(X)for(var n of X(e))tt.call(e,n)&&et(t,n,e[n]);return t};const rt=(0,P.rP)(void 0,function(){const t=(0,Y.iW)().reduce((t,e)=>nt(nt({},t),function(t){var e;const n=t.dataClassName(),r=(0,W.s)((0,Y.m8)(n),null==(e=(0,h.u)(n))?void 0:e.attributes);if(r.length>0)return function(t,e){const n=t.dataClassName(),r=(0,h.u)(n),o=(0,Y.m8)(n),i=ft(n,r);return e.reduce((e,a)=>{var u,s,l;return s=nt({},e),l={[ct(n,a)]:lt({dataClassTitle:i,variableTitle:ft(a,null==(u=null==r?void 0:r.attributes)?void 0:u[a],null==o?void 0:o[a]),variableValue:t.getLocalized(a),isGlobal:!0})},K(s,Q(l))},{})}(t,r);return function(t){const e=t.dataClassName(),n=(0,h.u)(e),r=ft(e,n);return st({dataItem:t,dataClassName:e,dataClassTitle:r,isGlobal:!0})}(t)}(e)),{});return Object.keys(t).length>0?t:void 0});const ot=(0,P.rP)(void 0,function(t){return t.filter(Y.o3).map(({_class:t,_id:e})=>`${t}:${e}`).join()},function(t){const e=new Set,n=function(t){return t.map(it).filter(t=>!!t)}(t).filter(t=>!e.has(t.dataClassName())&&e.add(t.dataClassName())).map(ut).filter(t=>!!t);return 0===n.length?void 0:Object.assign({},...n)});function it(t){var e;if((0,Y.o3)(t))return null==(e=(0,Y.sf)(t._class))?void 0:e.get(t._id)}function at(t,e){const n=dt(t);if(n)return function(t,e){return(0,H.A)(t,(t,n)=>nt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e)))}(n,e)}function ut(t,e){let n,r;const o=t.obj();o&&(n=(0,Y.u5)((0,w.zo)(o)),r=n?Object.keys(n):[]);const i={},a=t.dataClassName(),u=(0,h.u)(a),s=(0,Y.m8)(a),l=function(t){var e;if(!(0,z.I)(t.dataClassName()))return;const n=null==(e=(0,B.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const o=(0,M.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!o||"string"!=typeof o)return;const i=n.id()===r.id()?` (${J("current_page")||"Current page"})`:"";return`${o} (${r.objClass()})${i}`}(t)||ft(a,u),c=(0,W.s)(s,null==u?void 0:u.attributes),f=(0,z.I)(t.dataClassName())?e:void 0;if(c.length>0)c.forEach(e=>{var n;r&&!r.includes(e)||(i[ct(a,e)]=lt({dataClassTitle:l,variableTitle:ft(e,null==(n=null==u?void 0:u.attributes)?void 0:n[e],null==s?void 0:s[e]),variableValue:t.getLocalized(e),backgroundIndex:f}))});else if(n)Object.entries(n).forEach(([t,e])=>i[ct(a,t)]=lt({dataClassTitle:l,variableTitle:ft(t),variableValue:e,backgroundIndex:f}));else if(t instanceof Y.FU)return st({dataItem:t,dataClassName:a,dataClassTitle:l});return i}function st({dataItem:t,dataClassName:e,dataClassTitle:n,isGlobal:r}){const o=t.getCustomAttributes(),i=Object.fromEntries(Object.entries(o).map(([t,o])=>[ct(e,t),lt({dataClassTitle:n,variableTitle:ft(t),variableValue:o,isGlobal:r})]));return nt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},i)}function lt({dataClassTitle:t,variableTitle:e,variableValue:n,backgroundIndex:r,isGlobal:o}){return nt(nt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r}),void 0===o?{}:{isGlobal:o})}function ct(t,e){return`${t}.${e}`}function ft(t,e,n){return(0,W.F)(e,null==n?void 0:n[1])||(0,o.o3)(t)}function dt(t){var e;const n=t.getContainer(),r=null==(e=(0,h.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),o=r.class();if(null===o)return;const i=null==(n=(0,h.u)(o))?void 0:n.attributes;if(!i)return;return(0,H.A)(i,(t,e)=>ft(e,t))}(t,e):e}if(n instanceof k.$R){const t=n.obj().fieldContainingWidget(n);if(t)return dt(t)}}var pt=n(9984),vt=n(7842);class gt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class bt extends vt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map(t=>new gt(t))}authToken(t){return(0,pt.d)({audience:t})||""}}}}]);