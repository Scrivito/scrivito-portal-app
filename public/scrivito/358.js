"use strict";(("undefined"!=typeof self?self:global).webpackChunk=("undefined"!=typeof self?self:global).webpackChunk||[]).push([[358,535],{6886:(t,e,n)=>{n.d(e,{A:()=>f,n:()=>d});var r=n(1824),i=n(1946),o=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&c(t,n,e[n]);if(a)for(var n of a(e))l.call(e,n)&&c(t,n,e[n]);return t};function d(t,e,n){return(0,r.dY)((()=>g((r=>{r[t]={content:e,parentElementId:n}})))),()=>(0,r.dY)((()=>g((e=>{delete e[t]}))))}function f(){const t=v();return Object.keys(t).map((e=>{const n=parseInt(e,10);return u({elementId:n},t[n])}))}const p=(0,i.Ld)();function g(t){const e=u({},v());t(e),p.set(e)}function v(){return p.get()||{}}},6200:(t,e,n)=>{n.d(e,{bO:()=>l,kT:()=>a,nl:()=>s});var r=n(1824),i=n(4772);const o={};function a(t,e){o[t]=e}function s(t){delete o[t]}function l(t){return o[t]?c.get(t).get():null}const c=(0,i.rL)({loadElement:t=>({stream:new r.RE((e=>{const n=()=>{const n=o[t];e.next(n?function(t){const{left:e,top:n,width:r,height:i}=t.getBoundingClientRect();return{x:e+window.pageXOffset,y:n+window.pageYOffset,width:r,height:i}}(n):null)};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})})},5771:(t,e,n)=>{function r(t,e){const n=new Set;return t&&Object.keys(t).forEach((t=>n.add(t))),e&&Object.keys(e).forEach((t=>n.add(t))),Array.from(n).sort()}function i(t,e){var n;return null!=(n=null==t?void 0:t.title)?n:null==e?void 0:e.title}n.d(e,{F:()=>i,s:()=>r})},9745:(t,e,n)=>{n.r(e),n.d(e,{Editor:()=>bt,Team:()=>mt,editorRegistrationFor:()=>u,getCachedValidationReportEntries:()=>F,getDataStackVariables:()=>ot,getDataVariablesFor:()=>st,getGlobalDataVariables:()=>it,installDndHandler:()=>o,installScrollHandler:()=>h,openContentBrowser:()=>v,registerEditor:()=>c,reloadIfContextChangesFrom:()=>V,runValidationsFor:()=>x,setModeIndicators:()=>p,titleForBasicWidget:()=>j,uiTranslate:()=>K,validationResultsFor:()=>T});var r=n(7272),i=n(1824);function o(){const t=(0,i.YE)();t.addEventListener("dragover",(t=>function(t){t.dataTransfer.dropEffect="move",t.preventDefault();const e={x:t.pageX,y:t.pageY};(0,r.H)().dragTo(e)}(t))),t.addEventListener("drop",(()=>{(0,r.H)().drop()}))}var a=n(1946);let s=0,l={};function c(t){const e=(s++,s.toString());l[e]=t;const n=d.get()||[];d.set([...n,e])}function u({type:t,tag:e}){const n=d.get();if(n){const r=n.find((n=>l[n]&&l[n].canEdit({type:t,tag:e})));if(r){return{id:r,editorClass:l[r]}}}}const d=(0,a.Ld)();(0,i.Nj)((function(){s=0,l={},d.clear()}));var f=n(1616);function p(){const t=(0,i.YE)().body;t.classList.add("scrivito_editing_active"),(0,f.HD)()&&t.setAttribute("data-scrivito-editing",""),(0,f.gY)()&&t.setAttribute("data-scrivito-comparison","")}var g=n(7283);function v(t={}){return(0,r.H)().openContentBrowser((0,g.n)(t))}const m=30,b=25;function h(){(0,i.YE)().addEventListener("dragover",(t=>{const e=t.clientY,n=(0,i.BA)(),r=(0,i.kA)();r>0&&e<m?(0,i.VG)(n,r-b):(0,i.Hj)()>r+(0,i.eU)()&&e>(0,i.eU)()-m&&(0,i.VG)(n,r+b)}))}var y=n(2295),w=n(7461);function j(t){return function(t){var e;const n=t.objClass(),r=null==(e=(0,y.u)(n))?void 0:e.titleForContent;if("function"==typeof r)try{return r((0,w.Dy)(t))}catch(t){(0,i.JL)(t)}}(t)||(e=t.objClass(),(null==(n=(0,y.u)(e))?void 0:n.title)||(0,i.o3)(e));var e,n}var O=n(1728);const C=["error","warning","info"];function E(t){if(!Array.isArray(t))return!1;const[e,n]=t;return!!function(t){if(!t)return!1;if("object"!=typeof t)return!1;const e=t.severity;return!e||-1!==C.indexOf(e)}(e)&&(0,i.Gv)(n)}var k=n(4772),I=n(5487),P=Object.defineProperty,D=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,M=(t,e,n)=>e in t?P(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))_.call(e,n)&&M(t,n,e[n]);if(D)for(var n of D(e))S.call(e,n)&&M(t,n,e[n]);return t};const A={error:0,warning:1,info:2};function T(t,e){return function(t,e){(0,I.kq)(t)||(0,i.Ht)("validationResultsFor","'model' must be an 'Obj' or a 'Widget'.",{docPermalink:"js-sdk/validationResultsFor"});"string"==typeof e&&0!==e.length||(0,i.Ht)("validationResultsFor","'attributeName' must be a non-empty 'String'.",{docPermalink:"js-sdk/validationResultsFor"})}(t,e),F(t._scrivitoPrivateContent).filter((t=>(0,i.On)(t)&&t.attributeName===e)).sort((({severity:t},{severity:e})=>A[t]-A[e])).map((t=>({message:t.message,severity:t.severity})))}const F=(0,k.rP)([],(t=>t instanceof I.kI?t.id():`${t.obj().id()}/${t.id()}`),x);function x(t){var e;const n=t instanceof I.kI?t:t.obj();if(!n.isEdited()&&!n.isNew())return[];const r=t.objClass(),o=null==(e=(0,y.u)(r))?void 0:e.validations;if(!o)return[];const a=(0,w.Dy)(t);return o.flatMap((t=>"function"==typeof t?function(t,e){return R(`Please check validations for the model ${e._scrivitoPrivateContent.objClass()}. `,t,e).map(W)}(t,a):function(t,e){const[n,...r]=t,o=e._scrivitoPrivateContent.objClass();if(!function(t){return!(0,i.iI)(t)||$(t)}(n))return(0,i.JL)(new i.c1(`Found an attribute validation callback for the system attribute ${n} of the model ${o}. Attribute validations can only be used for custom attributes and for the system attributes "_language" and "_permalink". For other system attributes please use class-based validations. Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[];let a;if($(n)){const t=e._scrivitoPrivateContent;if(!(t instanceof I.kI))return[];switch(n){case"_language":a=t.language();break;case"_permalink":a=t.permalink()}}else{const t=w.Sj.basicFieldFor(e,n);if(!t)return[];a=(0,w.Dy)(t.get())}const s=N({name:n},(c=e,c._scrivitoPrivateContent instanceof I.kI?{content:e,obj:e}:{content:e,widget:e})),l=`Please check validations for the attribute ${n} of the model ${o}. `;var c;return r.flatMap((t=>{var e;const r=function(t){if("function"==typeof t)return t;const e=E(t)?t[1]:t;return(0,O.v)()(e)}(t),i=E(t)&&(null==(e=t[0])?void 0:e.severity);return R(l,r,a,s).map((t=>({attributeName:n,message:t.message,severity:i||t.severity||"error"})))}))}(t,a)))}function W(t){return{message:t.message,severity:t.severity||"error"}}function $(t){return["_language","_permalink"].includes(t)}function R(t,e,...n){let r;try{r=e(...n)}catch(t){return(0,i.JL)(t),[]}return r?"string"==typeof r?[{message:r,severity:"error"}]:Array.isArray(r)&&r.every((t=>"string"==typeof t))?r.map((t=>({message:t,severity:"error"}))):function(t){return!!t&&"object"==typeof t&&!!t.message&&(e=t.severity,"string"==typeof e&&-1!==C.indexOf(e));var e}(r)?[r]:((0,i.JL)(new i.c1(`A validation must return a validation result or a falsy value. ${t}Visit ${(0,i.yJ)("js-sdk/provideEditingConfig#validations")} for more information.`)),[]):[]}function V(t){(0,k.eX)((()=>(0,r.H)().currentEditingContext())).subscribe((e=>{const n=null==e?void 0:e.windowName;n&&n!==t&&((0,i.K5)(n),(0,i.yQ)())}))}var H=n(5796),L=n(5634),B=n(5771),G=n(9708),z=n(2836),Y=n(8887),U=n(5460);function K(t){if(U.B)return U.B.translate(t)}var J=Object.defineProperty,q=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,et=(t,e,n)=>e in t?J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nt=(t,e)=>{for(var n in e||(e={}))Z.call(e,n)&&et(t,n,e[n]);if(X)for(var n of X(e))tt.call(e,n)&&et(t,n,e[n]);return t},rt=(t,e)=>q(t,Q(e));const it=(0,k.rP)(void 0,(function(){const t=(0,z.iW)().reduce(((t,e)=>nt(nt({},t),function(t){var e;const n=t.dataClassName(),r=(0,B.s)((0,z.m8)(n),null==(e=(0,y.u)(n))?void 0:e.attributes);if(r.length>0)return function(t,e){const n=t.dataClassName(),r=(0,y.u)(n),i=(0,z.m8)(n),o=ft(n,r);return e.reduce(((e,a)=>{var s;return rt(nt({},e),{[dt(n,a)]:ut({dataClassTitle:o,variableTitle:ft(a,null==(s=null==r?void 0:r.attributes)?void 0:s[a],null==i?void 0:i[a]),variableValue:t.getLocalized(a),isGlobal:!0})})}),{})}(t,r);return function(t){const e=t.dataClassName(),n=(0,y.u)(e),r=ft(e,n);return ct({dataItem:t,dataClassName:e,dataClassTitle:r,isGlobal:!0})}(t)}(e))),{});return Object.keys(t).length>0?t:void 0}));const ot=(0,k.rP)(void 0,(function(t){return t.filter(z.o3).map((({_class:t,_id:e})=>`${t}:${e}`)).join()}),(function(t){const e=new Set,n=function(t){return t.map(at).filter((t=>!!t))}(t).filter((t=>!e.has(t.dataClassName())&&e.add(t.dataClassName()))).map(lt).filter((t=>!!t));return 0===n.length?void 0:Object.assign({},...n)}));function at(t){var e;if((0,z.o3)(t))return null==(e=(0,z.sf)(t._class))?void 0:e.get(t._id)}function st(t,e){const n=pt(t);if(n)return function(t,e){return(0,H.A)(t,((t,n)=>nt({title:t},function(t,e){if(!e)return;const n=e[t];return void 0===n?void 0:{value:n}}(n,e))))}(n,e)}function lt(t,e){let n,r;const i=t.obj();i&&(n=(0,z.u5)((0,w.zo)(i)),r=n?Object.keys(n):[]);const o={},a=t.dataClassName(),s=(0,y.u)(a),l=(0,z.m8)(a),c=function(t){var e;if(!(0,G.I)(t.dataClassName()))return;const n=null==(e=(0,L.Vd)())?void 0:e.currentPage;if(!n)return;const r=t.obj();if(!r)return;const i=(0,Y.titleForObj)(r.id())||r.get("contentTitle")||r.get("title");if(!i||"string"!=typeof i)return;const o=n.id()===r.id()?` (${K("current_page")||"Current page"})`:"";return`${i} (${r.objClass()})${o}`}(t)||ft(a,s),u=(0,B.s)(l,null==s?void 0:s.attributes),d=(0,G.I)(t.dataClassName())?e:void 0;if(u.length>0)u.forEach((e=>{var n;r&&!r.includes(e)||(o[dt(a,e)]=ut({dataClassTitle:c,variableTitle:ft(e,null==(n=null==s?void 0:s.attributes)?void 0:n[e],null==l?void 0:l[e]),variableValue:t.getLocalized(e),backgroundIndex:d}))}));else if(n)Object.entries(n).forEach((([t,e])=>o[dt(a,t)]=ut({dataClassTitle:c,variableTitle:ft(t),variableValue:e,backgroundIndex:d})));else if(t instanceof z.FU)return ct({dataItem:t,dataClassName:a,dataClassTitle:c});return o}function ct({dataItem:t,dataClassName:e,dataClassTitle:n,isGlobal:r}){const i=t.getCustomAttributes(),o=Object.fromEntries(Object.entries(i).map((([t,i])=>[dt(e,t),ut({dataClassTitle:n,variableTitle:ft(t),variableValue:i,isGlobal:r})])));return nt({[`${e}._id`]:{dataClassTitle:n,title:"Id",value:t.id()}},o)}function ut({dataClassTitle:t,variableTitle:e,variableValue:n,backgroundIndex:r,isGlobal:i}){return nt(nt({dataClassTitle:t,title:e,value:"string"==typeof n?n:""},void 0===r?{}:{backgroundIndex:r}),void 0===i?{}:{isGlobal:i})}function dt(t,e){return`${t}.${e}`}function ft(t,e,n){return(0,B.F)(e,null==n?void 0:n[1])||(0,i.o3)(t)}function pt(t){var e;const n=t.getContainer(),r=null==(e=(0,y.u)(n.objClass()))?void 0:e.attributeDataContext;if(r){const e=r[t.name()];return"string"==typeof e?function(t,e){var n;const r=t.getContainer().get(e,"datalocator"),i=r.class();if(null===i)return;const o=null==(n=(0,y.u)(i))?void 0:n.attributes;if(!o)return;return(0,H.A)(o,((t,e)=>ft(e,t)))}(t,e):e}if(n instanceof I.$R){const t=n.obj().fieldContainingWidget(n);if(t)return pt(t)}}var gt=n(2109),vt=n(8589);class mt{constructor(t){this.teamData=t}id(){return this.teamData.id}name(){return this.teamData.name}description(){return this.teamData.description||""}}class bt extends vt.K{constructor(t,e){super(t),this.teamsData=e}teams(){return this.teamsData.map((t=>new mt(t)))}authToken(t){return(0,gt.d)({audience:t})||""}}},1358:(t,e,n)=>{n.r(e),n.d(e,{AttributeValueWithEditing:()=>R,ChildListTagWithEditing:()=>Bt,WidgetPlaceholder:()=>re,WidgetTagWithEditing:()=>St,WidgetlistPlaceholder:()=>qt});var r=n(4924),i=n(5057),o=n(1616),a=n(9745),s=n(5461),l=n(3955),c=n(3602),u=n(1303),d=n(5394),f=n(1824),p=n(2836),g=n(4772),v=n(4686),m=n(7440);var b,h=n(1946),y=Object.defineProperty,w=Object.defineProperties,j=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,k=(t,e,n)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||(e={}))C.call(e,n)&&k(t,n,e[n]);if(O)for(var n of O(e))E.call(e,n)&&k(t,n,e[n]);return t},P=(t,e)=>w(t,j(e));const D=(0,c.Ng)((function(t){const e=(0,v.iH)(),n=null==e?void 0:e.placeholders,i=(0,a.getGlobalDataVariables)(),o=(null==e?void 0:e.dataStack)?(0,a.getDataStackVariables)(e.dataStack):void 0;return r.createElement(_,P(I({},t),{placeholders:n,dataStackVariables:o,globalDataVariables:i}))})),_=(0,c.Ng)(((b=class extends r.Component{constructor(t){super(t),this.stateChangeCausedByEditor=new f.hl,this.field=this.props.field,this.state={domMode:"None"};const e=this.props.editorClass;if(e){const t={getContent:this.getContent.bind(this),options:this.options.bind(this),setContent:this.setContent.bind(this),setDomMode:this.setDomMode.bind(this),validObjClasses:this.validObjClasses.bind(this),isDataIntegrationActive:p.BF};this.editor=new e({controller:t})}}componentDidMount(){if(!this.editor)return;const t=this.editor;t.editorWillBeActivated();const e=(0,h.Ml)((()=>this.getContent()),(()=>{this.stateChangeCausedByEditor.current()||t.contentDidChange()}));this.unsubscribe=e.unsubscribe,"Replace"===this.state.domMode&&this.editorDomWasMounted()}componentDidUpdate(t,e){var n;const r=e.domMode,i=this.state.domMode;r!==i&&("Replace"===i?this.editorDomWasMounted():this.editorDomWasUnmounted()),t.globalDataVariables===this.props.globalDataVariables&&t.dataStackVariables===this.props.dataStackVariables||null==(n=this.editor)||n.contentDidChange()}componentWillUnmount(){this.editor&&this.editor.editorWillBeDeactivated(),this.unsubscribe&&this.unsubscribe(),this.unregisterScrollTarget&&this.unregisterScrollTarget()}render(){if("Replace"===this.state.domMode){const t=this.props.customProps,{children:e,dangerouslySetInnerHTML:n}=t,i=((t,e)=>{var n={};for(var r in t)C.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&O)for(var r of O(t))e.indexOf(r)<0&&E.call(t,r)&&(n[r]=t[r]);return n})(t,["children","dangerouslySetInnerHTML"]),o=t=>{t.stopPropagation(),t.preventDefault()};return r.createElement(this.props.tag,P(I({},i),{ref:t=>{this.editorComponent=t},onClick:o}))}let t;const e=this.editor;return e&&e.onClick&&(t=t=>{t.stopPropagation(),t.preventDefault(),e.onClick()}),r.createElement(s.eK,{elementCallback:t=>{this.editorComponent=t},widgetProps:this.props.widgetProps,customProps:this.props.customProps,field:this.props.field,key:this.state.domMode,tag:this.props.tag,onClick:t})}editorDomWasMounted(){if(this.editor&&this.editorComponent){const t=this.editorComponent;this.editor.editorDomWasMounted(t);const e=this.props.field.obj().id(),n=this.props.field.name();this.unregisterScrollTarget=(0,d.a)({objId:e,attributeName:n},t)}}editorDomWasUnmounted(){this.editor&&this.editor.editorDomWasUnmounted()}setDomMode(t){this.setState({domMode:t})}getContent(){return(0,g.Fg)((()=>{if("html"===this.field.type()){const e=this.field.get();return t=e,(0,m.n)(t,{preserveObjId:!0})}var t;return this.field.get()})).result}setContent(t){this.stateChangeCausedByEditor.runWith(!0,(()=>this.field.update(t)))}options(){const t=I({},(0,u.w)(this.field.getContainer().objClass(),this.field.name(),this.field.type()));if(!(0,p.BF)())return t;const e=(0,a.getDataVariablesFor)(this.field,this.props.placeholders),{dataStackVariables:n,globalDataVariables:r}=this.props;return(n||e||r)&&(t.dataVariables=I(I(I({},e),n),r)),t}validObjClasses(){return this.field.validClasses()}}).displayName="Scrivito.ContentTag.Editor",b));var S=n(5487);var M=Object.defineProperty,N=Object.defineProperties,A=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,W=(t,e,n)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$=(t,e)=>{for(var n in e||(e={}))F.call(e,n)&&W(t,n,e[n]);if(T)for(var n of T(e))x.call(e,n)&&W(t,n,e[n]);return t};const R=(0,c.Ng)((function(t){const{field:e,tag:n}=t,c=(0,l.S)(e.obj());if(!(0,o.HD)()||!(0,i.V)(e.obj().id()))return r.createElement(s.eK,$({},t));if(c){const i=(0,a.editorRegistrationFor)({type:e.type(),tag:n});if(i){const{id:o,editorClass:a}=i,s=[n,(d=e.getContainer(),d instanceof S.kI?d.id():`${d.obj().id()}|${d.id()}`),e.name(),o].join("|");return r.createElement(D,(u=$({},t),N(u,A({key:s,editorClass:a}))))}}var u,d;return r.createElement(s.eK,$({},t))}));var V=n(8848),H=n(5460),L=n(7521),B=n(92),G=n(9116),z=n(7272),Y=n(6886),U=n(6200),K=Object.defineProperty,J=Object.defineProperties,q=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,tt=(t,e,n)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,et=(t,e)=>{for(var n in e||(e={}))X.call(e,n)&&tt(t,n,e[n]);if(Q)for(var n of Q(e))Z.call(e,n)&&tt(t,n,e[n]);return t},nt=(t,e)=>J(t,q(e));function rt(t){var e;return(e=class extends r.Component{constructor(t){super(t),this.registeredElement=new st}render(){return r.createElement(t,nt(et({},this.props),{registeredElement:this.registeredElement}))}}).displayName=`${(0,c.NY)(t)}WithRegisteredElement`,e}function it(t,e){return function(n){const i=r.useContext(ot),o=r.useMemo((()=>new st),[]),a=r.useMemo((()=>t(n)),[n]);return r.useEffect((()=>(0,Y.n)(o.id(),a,i)),[a,i,o]),r.createElement(ot.Provider,{value:o.id()},r.createElement(e,nt(et({},n),{registeredElement:o})))}}const ot=r.createContext(void 0),at=class t{static generateId(){return this.currentId++,this.currentId}constructor(){this.elementId=t.generateId()}id(){return this.elementId}set(t){t?(0,U.kT)(this.elementId,t):(0,U.nl)(this.elementId)}};at.currentId=0;let st=at;var lt;const ct=rt((0,c.Ng)(((lt=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this)}render(){const{markerClassName:t,tooltip:e,disableMenu:n}=function(t){switch(t.modification){case"new":return{tooltip:dt("widget_is_new")};case"edited":switch(t.placementModification){case"new":return{markerClassName:"scrivito_widget_moved_icon",tooltip:dt("widget_is_edited_and_dragged_here")};case"deleted":return{markerClassName:"scrivito_widget_moved_icon",tooltip:dt("widget_is_edited_and_dragged_away"),disableMenu:!0};default:return{tooltip:dt("widget_is_edited")}}case"deleted":return{tooltip:dt("widget_is_deleted")};default:switch(t.placementModification){case"new":return{tooltip:dt("widget_is_dragged_here")};case"deleted":return{tooltip:dt("widget_is_dragged_away")}}}}(this.props.widgetModification),i=n?void 0:this.onClick;return r.createElement("span",{ref:t=>this.props.registeredElement.set(t),className:`scrivito_editing_marker ${null!=t?t:""} ${i?"":"scrivito_disabled"}`,title:e,onClick:i,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},r.createElement("i",{className:`scrivito_icon ${ut(this.props.widgetModification)}`}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(this.props.widget)))}onClick(t){t.preventDefault(),t.stopPropagation(),(0,z.H)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})}}).displayName="Scrivito.ContentTag.ComparisonMenuMarker",lt)));function ut(t){switch(t.modification){case"new":return"scrivito_icon_inv_plus";case"edited":return"scrivito_icon_edited";case"deleted":return"scrivito_icon_trash";default:return"scrivito_icon_moved"}}function dt(t){return(0,a.uiTranslate)(`widget_marker.${t}`)}var ft;const pt=rt((0,c.Ng)(((ft=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragEnd=this.onDragEnd.bind(this)}render(){return r.createElement("span",{ref:t=>this.props.registeredElement.set(t),className:"scrivito_editing_marker",title:this.props.tooltip,onClick:this.onClick,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut,draggable:!0,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},(0,a.titleForBasicWidget)(this.props.widget)))}onClick(t){t.preventDefault(),t.stopPropagation(),(0,z.H)().showWidgetMenu(this.props.registeredElement.id(),this.props.widget.obj().id(),this.props.widget.id(),{objSpaceId:this.props.widget.objSpaceId()})}onDragStart({dataTransfer:t,target:e}){t.effectAllowed="move",t.setData("text/plain",e.id),(0,z.H)().startDrag(this.props.widget.obj().id(),this.props.widget.id()),this.props.setDragState(!0)}onDragEnd(){(0,z.H)().endDrag(),this.props.setDragState(!1)}}).displayName="Scrivito.ContentTag.EditingMenuMarker",ft)));function gt(t){return t.map((t=>(0,f.PX)(t.message)[0])).join("\n")}const vt=(0,c.Ng)((function({insertWidget:t,onMouseOut:e,onMouseOver:n,position:i,widget:o}){return r.createElement("span",{className:`scrivito_option_marker scrivito_${i}`,onClick:function(e){e.preventDefault(),e.stopPropagation(),t(o,i)},onMouseOver:n,onMouseOut:e},r.createElement("i",{className:"scrivito_icon scrivito_icon_marker_plus"}))}));let mt,bt=0,ht={};var yt=n(7461),wt=Object.defineProperty,jt=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,It=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))Et.call(e,n)&&It(t,n,e[n]);if(Ct)for(var n of Ct(e))kt.call(e,n)&&It(t,n,e[n]);return t},Dt=(t,e)=>jt(t,Ot(e)),_t=(t,e)=>{var n={};for(var r in t)Et.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&Ct)for(var r of Ct(t))e.indexOf(r)<0&&kt.call(t,r)&&(n[r]=t[r]);return n};const St=t=>r.createElement(B.K.Consumer,null,(e=>r.createElement(Nt,Pt(Pt({},e),t)))),Mt=(0,c.Ng)((function(t){var e;const n=(0,l.S)(t.widget.obj()),[s,c]=r.useState(!1),[u,f]=r.useState(!1),[p,g]=r.useState(!0),[v,m]=r.useState(!1),[b,h]=r.useState(!1),y=r.useRef(void 0),w=r.useRef(void 0),j=r.useRef(void 0),O=r.useRef(!1),C=r.useRef(void 0),E=null==(e=yt.Sj.forInstance((0,yt.Dy)(t.widget)))?void 0:e.attributes();let k=!1,I=!1;if(E){const t=Object.keys(E);k=t.some((t=>{const[e]=E[t];return"widget"===e||"widgetlist"===e})),I=t.some((t=>"data"===t&&"datalocator"===E[t][0]))}if(r.useEffect((()=>{const e=C.current;e&&(w.current=(0,d.a)({objId:t.widget.obj().id(),widgetId:t.widget.id()},e,(()=>{m(!0),h((t=>!t))})))}),[t.widget]),r.useEffect((()=>(y.current=function(t){const e=bt;return ht[e]=t,bt+=1,e}({onFocus:()=>{c(!0),g(!1),T(),k||(j.current=window.setTimeout((()=>{O.current||g(!0)}),1e3))},onBlur:()=>c(!1)}),()=>{var t;T(),t=y.current,delete ht[t],w.current&&w.current()})),[k]),(0,o.HD)()){const e=t.widget.obj();if((0,i.V)(e.id()))return n?function(){const e=(0,a.getCachedValidationReportEntries)(t.widget);let n=`scrivito_widget_border ${t.widget.id()}`;(0,L.QS)(t.widget)&&(n+=" scrivito_selected");return r.createElement(t.tag,Pt(Dt(Pt({},_()),{ref:e=>{$(e),t.registeredElement.set(e)},className:S(),style:M(),onMouseOver:N,onMouseOut:A,children:[r.createElement(pt,{key:"menuMarker",widget:t.widget,tooltip:gt(e),setDragState:f,onMouseOver:F,onMouseOut:x}),...r.Children.toArray(t.children),r.createElement("span",{key:"border",className:n}),W("top"),W("bottom")]}),At({validationResults:e,isStructureWidget:k,hasStandardDatalocator:I})))}():P()}if((0,o.gY)()){const e=function(){const e=t.widget.modification((0,V.d)()),n=t.placementModification;if(e)return{modification:e,placementModification:n};if(n)return{placementModification:n}}();if(e&&!function({modification:t,placementModification:e}){return"deleted"===t&&!e}(e))return function(e){return r.createElement(t.tag,Pt(Dt(Pt({},_()),{ref:$,className:S(),style:M(),onMouseOver:N,onMouseOut:A,children:[r.createElement(ct,{key:"menuMarker",widget:t.widget,widgetModification:e,onMouseOver:F,onMouseOut:x}),...r.Children.toArray(t.children)]}),At({modification:e.modification||e.placementModification,isStructureWidget:k,hasStandardDatalocator:I})))}(e)}return P();function P(){return r.createElement(t.tag,Dt(Pt({},D()),{ref:$}))}function D(){const e=t,{tag:n,widget:r,placementModification:i,fieldType:o,registeredElement:a}=e;return _t(e,["tag","widget","placementModification","fieldType","registeredElement"])}function _(){const t=D(),{className:e,style:n}=t;return _t(t,["className","style"])}function S(){let e=t.className||"";const n=s&&!p;(0,o.HD)()&&n&&(e+=" scrivito_active scrivito_entered");const r="deleted"===t.placementModification||"deleted"===t.widget.modification((0,V.d)());return(0,o.gY)()&&r&&(e+=" scrivito_modification_opacity"),v&&(e+=b?" scrivito_wiggle_odd":" scrivito_wiggle_even"),e}function M(){return u?t.style?Dt(Pt({},t.style),{opacity:.5}):{opacity:.5}:t.style}function N(t){t.stopPropagation(),function(t){mt=t;const e=ht[mt];e&&e.onFocus()}(y.current)}function A(t){t.stopPropagation(),function(t){if(t===mt){const e=ht[t];e&&e.onBlur()}}(y.current)}function T(){j.current&&window.clearTimeout(j.current)}function F(){O.current=!0}function x(){O.current=!1}function W(e){return"widget"===t.fieldType?null:r.createElement(vt,{key:`optionMarker-${e}`,position:e,widget:t.widget,insertWidget:Tt,onMouseOver:F,onMouseOut:x})}function $(e){(0,G.h)(e,t.ref),C.current=e}})),Nt=it((({widget:t})=>{if(!t)throw new f.Gd;return{type:"widget",objId:t.obj().id(),widgetId:t.id()}}),(t=>{var e=t,{widget:n}=e,i=_t(e,["widget"]);if(!n)throw new f.aS("Detected inappropriate placing of Scrivito.WidgetTag: It is intended to be used exclusively as top-level element inside a Widget component.");return r.createElement(Mt,Pt({widget:n},i))}));function At({modification:t,validationResults:e,isStructureWidget:n,hasStandardDatalocator:r}){const i={"data-scrivito-private-widget":"true","data-scrivito-private-dropzone":"true"};n&&(i["data-scrivito-private-structure-widget"]="true"),n&&r&&(i["data-scrivito-private-data-widget"]="true"),t&&(i["data-scrivito-private-widget-modification"]=t);return["error","warning","info"].forEach((t=>{var n,r;n=t,(r=e)&&r.some((t=>t.severity===n))&&(i[`data-scrivito-private-widget-validation-${t}`]="true")})),i}function Tt(t,e){H.B.insertWidget(t.obj().id(),t.id(),e)}function Ft({parent:t,registeredElement:e}){return r.createElement("span",{ref:t=>e.set(t),className:"scrivito_editing_marker",onClick:function(n){n.preventDefault(),n.stopPropagation(),(0,z.H)().showChildListMenu(e.id(),t.id())}},r.createElement("i",{className:"scrivito_icon"}),r.createElement("span",{className:"scrivito_editing_marker_title"},t.objClass()))}Ft.displayName="Scrivito.ChildListTag.MenuMarker";const xt=rt((0,c.Ng)(Ft));var Wt=Object.defineProperty,$t=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable,Ht=(t,e,n)=>e in t?Wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lt=(t,e)=>{for(var n in e||(e={}))Rt.call(e,n)&&Ht(t,n,e[n]);if($t)for(var n of $t(e))Vt.call(e,n)&&Ht(t,n,e[n]);return t};const Bt=(0,c.Ng)((function(t){const e=t,{basicParent:n,tag:i}=e,a=((t,e)=>{var n={};for(var r in t)Rt.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&$t)for(var r of $t(t))e.indexOf(r)<0&&Vt.call(t,r)&&(n[r]=t[r]);return n})(e,["basicParent","tag"]),s=(0,l.S)(n),[c,u]=r.useState(!1),d=(0,o.HD)()&&s,f=r.Children.toArray(t.children),p=d?[r.createElement(xt,{parent:n,key:"menuMarker"}),...f]:f,g=d&&{onMouseOver:m,onMouseOut:b,"data-scrivito-private-child-list-path":!0,className:c?`scrivito_active scrivito_entered ${null!=(v=t.className)?v:""}`:t.className};var v;return r.createElement(i,Lt({},Lt(Lt({},g),a)),p);function m(t){t.stopPropagation(),u(!0)}function b(t){t.stopPropagation(),u(!1)}}));var Gt,zt=Object.defineProperty,Yt=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Jt=(t,e,n)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const qt=it((t=>((t,e)=>{for(var n in e||(e={}))Ut.call(e,n)&&Jt(t,n,e[n]);if(Yt)for(var n of Yt(e))Kt.call(e,n)&&Jt(t,n,e[n]);return t})({type:"widgetlist"},Qt(t.field))),(0,c.Ng)(((Gt=class extends r.Component{constructor(t){super(t),this.onClick=this.onClick.bind(this)}render(){return r.createElement("div",{ref:t=>{this.widgetlistPlaceholder=t,this.props.registeredElement.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:this.onClick})}onClick(t){if(t.preventDefault(),t.stopPropagation(),this.widgetlistPlaceholder){const{objId:e,widgetId:n,attributeName:r}=Qt(this.props.field);(0,z.H)().showWidgetlistMenu(this.props.registeredElement.id(),(0,f.H5)(t,this.widgetlistPlaceholder),e,r,n)}}}).displayName="Scrivito.ContentTag.WidgetlistPlaceholder",Gt)));function Qt(t){const e=t.getContainer();return e instanceof S.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}var Xt=Object.defineProperty,Zt=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,ne=(t,e,n)=>e in t?Xt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const re=it((({field:t})=>((t,e)=>{for(var n in e||(e={}))te.call(e,n)&&ne(t,n,e[n]);if(Zt)for(var n of Zt(e))ee.call(e,n)&&ne(t,n,e[n]);return t})({type:"widgetField"},ie(t))),(0,c.Ng)((function({field:t,registeredElement:e}){const[n,i]=r.useState(null);return r.createElement("div",{ref:t=>{i(t),e.set(t)},className:"scrivito_empty_widget_field","data-scrivito-private-dropzone":"true",onClick:function(r){if(r.preventDefault(),r.stopPropagation(),n){const{objId:i,widgetId:o,attributeName:a}=ie(t);(0,z.H)().showWidgetlistMenu(e.id(),(0,f.H5)(r,n),i,a,o)}}})})));function ie(t){const e=t.getContainer();return e instanceof S.kI?{objId:e.id(),attributeName:t.name()}:{objId:e.obj().id(),widgetId:e.id(),attributeName:t.name()}}},8887:(t,e,n)=>{n.r(e),n.d(e,{AppAdapter:()=>pe,startAppAdapter:()=>me,titleForObj:()=>fe});var r=n(5796),i=n(1579),o=n(4572),a=n(5112),s=n(7478),l=n(349),c=n(2726),u=n(6886),d=n(6942),f=n(1946);const p=(0,f.Ld)();var g=n(2295),v=n(6200),m=n(2026),b=n(5584),h=n(8261),y=n(838),w=n(5788),j=n(9641),O=n(827),C=n(5394),E=n(7283),k=n(4416),I=n(9305),P=n(1824),D=n(7164),_=n(9745),S=n(5487),M=n(5461),N=n(7461);function A(t){const e=(0,S.ED)((0,S.aG)((0,S.eb)()),t);return e&&(0,N.Dy)(e)}var T=n(3617),F=n(4772),x=n(5771),W=n(2836);function $(){return(0,W.VU)().map((t=>function(t){const e=t.name(),n=(0,g.u)(e),r=(0,W.m8)(e);return{type:"ExternalData",name:e,title:(null==n?void 0:n.title)||(0,W.nx)(e),description:null==n?void 0:n.description,attributes:R(r,null==n?void 0:n.attributes),isSingleton:(0,W.Qk)(e)}}(t)))}function R(t,e){return(0,x.s)(t,e).map((n=>function(t,e,n){const[r,i]=e||["string"],[o,a]=function(t,e){return"enum"===t&&e&&"values"in e&&e.values.length>0?(n=e.values,n.reduce((([t,e],n)=>[[...t,"string"==typeof n?n:n.value],[...e,"string"==typeof n?{title:n,value:n}:{title:n.title,value:n.value}]]),[[],[]])):[];var n}(r,i);return{name:t,type:r,values:o,valuesLocalization:a,title:(0,x.F)(n,i),description:null==n?void 0:n.description,referenceTo:V(r,i),reverseTitle:H(i)}}(n,null==t?void 0:t[n],null==e?void 0:e[n])))}function V(t,e){return"reference"===t&&e&&"to"in e&&e.to||void 0}function H(t){return(0,W.y8)(t)?t.reverseTitle:void 0}var L=Object.defineProperty,B=Object.defineProperties,G=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,K=(t,e,n)=>e in t?L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J=(t,e)=>{for(var n in e||(e={}))Y.call(e,n)&&K(t,n,e[n]);if(z)for(var n of z(e))U.call(e,n)&&K(t,n,e[n]);return t},q=(t,e)=>B(t,G(e)),Q=(t,e)=>{var n={};for(var r in t)Y.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&z)for(var r of z(t))e.indexOf(r)<0&&U.call(t,r)&&(n[r]=t[r]);return n};function X(){const t=(0,N.Pi)();return Object.keys(t).map((e=>function(t,e){const n=N.Sj.forClass(e);return J({type:"Obj",hasComponent:(0,M.IS)(t),onlyChildren:n.onlyChildren(),validAsRoot:n.validAsRoot(),onlyAsRoot:n.onlyAsRoot()},tt(t,n))}(e,t[e])))}function Z(){const t=(0,N.Yh)();return Object.keys(t).map((e=>function(t,e){const n=N.Sj.forClass(e);return J({type:"Widget"},tt(t,n))}(e,t[e])))}function tt(t,e){var n,r,i,o,a,s;const l=null==(n=(0,g.u)(t))?void 0:n.thumbnail,c=null==(r=(0,g.u)(t))?void 0:r.properties;return{attributes:(u=e.attributes(),d=(null==(i=(0,g.u)(t))?void 0:i.attributes)||{},Object.keys(u).map((t=>{const[e,n]=u[t],r=d[t];if(!r)return J({name:t,type:e},n);const i=r,{values:o}=i,a=Q(i,["values"]);return J(q(J({name:t,type:e},n),{hasEditingConfig:!0,valuesLocalization:o}),a)}))),description:null==(o=(0,g.u)(t))?void 0:o.description,hideInSelectionDialogs:null==(a=(0,g.u)(t))?void 0:a.hideInSelectionDialogs,name:t,onlyInside:e.onlyInside(),properties:(0,P.Bo)(c)?c:void 0,thumbnail:l&&(0,T.r)(l),title:null==(s=(0,g.u)(t))?void 0:s.title,extractTextAttributes:e.extractTextAttributes()};var u,d}var et=n(9286),nt=Object.defineProperty,rt=Object.defineProperties,it=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable,lt=(t,e,n)=>e in t?nt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function ct(){const t=(0,et.$0)();if(void 0===t)return null;const{locationRoute:e,historyState:n}=t,r=(0,P.u4)();if(void 0===r)throw new P.Gd;return s=((t,e)=>{for(var n in e||(e={}))at.call(e,n)&&lt(t,n,e[n]);if(ot)for(var n of ot(e))st.call(e,n)&&lt(t,n,e[n]);return t})({},(i=e).sitePath?i.objId?{type:"page",siteId:i.siteData.siteId,objId:i.objId}:{type:"not found",siteId:i.siteData.siteId}:{type:"not responsible",siteId:null!=(a=null==(o=i.siteData)?void 0:o.siteId)?a:null}),l={url:r+n.location,version:n.historyChangesCount},rt(s,it(l));var i,o,a,s,l}function ut(t){return function(t){return(0,F.vD)({state:dt,stream:new P.RE((e=>{const n=()=>{const{width:n,height:r}=t.getBoundingClientRect();e.next({width:n,height:r})};return function(t,e){t.style.height="auto";const n=new ResizeObserver(e);return n.observe(t),()=>{n.unobserve(t),n.disconnect()}}(t,n)}))})}(t).getWithDefault(null)}const dt=(0,f.Ld)();var ft=n(7183);function pt(t){return function(t){return(0,F.vD)({state:gt,stream:new P.RE((e=>{const n=()=>{e.next({x:t.scrollLeft,y:t.scrollTop})};n();const r=window.setInterval(n,1e3);return()=>window.clearInterval(r)}))})}(t).getWithDefault(null)}const gt=(0,f.Ld)();var vt=n(7272),mt=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())}));function bt(t,e){return mt(this,null,(function*(){yield(0,vt.H)().finishReplicatingObj(t,e);const n=yield ht(t,e);n&&yt((0,N.Dy)(n))}))}function ht(t,e){return mt(this,null,(function*(){return(0,F.Hh)((()=>(0,S.ED)((0,S.Wr)(t),e)))}))}function yt(t){[t,...t.widgets()].forEach((t=>{var e;const n=null==(e=(0,g.u)(t.objClass()))?void 0:e.initializeCopy;n&&n(t)}))}var wt=Object.defineProperty,jt=Object.defineProperties,Ot=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,It=(t,e,n)=>e in t?wt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pt=(t,e)=>{for(var n in e||(e={}))Et.call(e,n)&&It(t,n,e[n]);if(Ct)for(var n of Ct(e))kt.call(e,n)&&It(t,n,e[n]);return t},Dt=(t,e)=>jt(t,Ot(e));function _t(t,e){const n=At(t,e);return n&&Mt(n)||[]}function St(t,e,n){const r=Tt(t,e,n);return r&&Mt(r)||[]}function Mt(t){var e;const n=t.objClass(),r="properties",i=null==(e=(0,g.u)(n))?void 0:e.properties;if(Rt(i))return i;if("function"==typeof i){let e;try{e=i((0,N.Dy)(t))}catch(e){Lt(e,t,r)}if(Rt(e))return e;throw Bt(n,r,"Properties must be an array of strings or an array of configs")}}function Nt(t){var e;const n=t.objClass(),r="propertiesGroups",i=null==(e=(0,g.u)(n))?void 0:e.propertiesGroups;if(Ht(i))return i;if("function"==typeof i){let e;try{e=i((0,N.Dy)(t))}catch(e){Lt(e,t,r)}return function(t,e,n){if(!Ht(t))throw Bt(e,n,"The callback return value must be an array of groups");if(!t.every($t))throw Bt(e,n,'A group must be an Object that contains "title" (string) and "key" (string) properties, as well as either "component" (string or function) or "properties" (array of strings or array of configs) property');if(!function(t){return!t.some((t=>!t.key))&&new Set(t.map((t=>t.key))).size===t.length}(t))throw Bt(e,n,"A group returned from the callback must contain a unique key property for faster rendering (like React do)");if(t.some(Ft))throw Bt(e,n,'In a properties group that uses a component and includes the "enabled" key, the component must be provided as a function')}(e,n,r),e}}function At(t,e){return(0,S.ED)((0,S.aG)(t),e)}function Tt(t,e,n){var r;return null==(r=At(t,e))?void 0:r.widget(n)}function Ft(t){return!!function(t){return xt(t)&&"string"==typeof t.component}(t)&&void 0!==t.enabled}function xt(t){return Yt(t)&&"string"==typeof t.title&&("string"==typeof t.component||Wt(t.component))}function Wt(t){return"function"==typeof t||(0,P.Gv)(t)}function $t(t){return function(t){return xt(t)&&"string"==typeof t.key}(t)?!t.properties||t.properties.every((t=>"string"==typeof t)):function(t){return Yt(t)&&"string"==typeof t.title&&"string"==typeof t.key&&Rt(t.properties)}(t)}function Rt(t){return Array.isArray(t)&&t.every((t=>"string"==typeof t||function(t){if(!Array.isArray(t))return!1;const[e,n]=t;return"string"==typeof e&&Yt(n)&&"boolean"==typeof n.enabled}(t)||Vt(t)))}function Vt(t){return Array.isArray(t)&&"string"==typeof t[0]&&Yt(t[1])&&"function"==typeof t[1].component}function Ht(t){return Array.isArray(t)&&t.every((t=>{return xt(t)||Yt(e=t)&&"string"==typeof e.title&&Rt(e.properties);var e}))}function Lt(t,e,n){throw new P.c1(`An error "${String(t)}" was thrown during execution of "${n}" callback. Please check the editing config of "${e.objClass()}" or ${e instanceof S.kI?"Obj":"Widget"} with ID: "${e.id()}" that might cause the error.`)}function Bt(t,e,n){const r=`${n}. Please check the editing config of "${t}".`;return(0,P.Ht)(e,r,{docPermalink:"js-sdk/provideEditingConfig"})}function Gt(t){return t.map((t=>{return function(t){return xt(t)&&Wt(t.component)}(t)?Dt(Pt({},t),{component:null,enabled:zt(t)}):t.properties?Dt(Pt({},t),{properties:(e=t.properties,e.map((t=>Vt(t)?[t[0],{component:null}]:t))),enabled:zt(t)}):Dt(Pt({},t),{enabled:zt(t)});var e}))}function zt(t){return"boolean"!=typeof t.enabled||t.enabled}function Yt(t){return(0,P.Gv)(t)&&!("function"==typeof t)&&!Array.isArray(t)}var Ut=n(4924),Kt=n(7639),Jt=n(1616),qt=n(8848),Qt=n(3602),Xt=(t,e,n)=>new Promise(((r,i)=>{var o=t=>{try{s(n.next(t))}catch(t){i(t)}},a=t=>{try{s(n.throw(t))}catch(t){i(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(o,a);s((n=n.apply(t,e)).next())}));function Zt(t,e){const{componentName:n,componentKey:r}=function(t){return"string"==typeof t?{componentName:t,componentKey:null}:{componentName:null,componentKey:t.key}}(t);r&&e?function(t,e){Xt(this,null,(function*(){const n=yield te(e);let r;if((0,Kt.Jm)(le(n)),r=e.widgetId?function(t,e,n,r){const i=ee(e,n);return i&&se(t,i,r)||null}(t,e.objId,e.widgetId,e.attributeName):function(t,e,n){const r=re(e);return r&&se(t,r,n)||null}(t,e.objId,e.attributeName),null===r)return;const i=Ut.createElement("function"==typeof r?(0,Qt.Ng)(r):r,n);(0,M.FM)(i)}))}(r,e):n&&function(t,e){const n=(0,M.K8)(t);if(null===n)throw new P.c1(`Component with ID "${t}" not found. Please make sure you registered it using "Scrivito.registerComponent".`);!function(t,e){Xt(this,null,(function*(){const n=yield te(e);(0,Kt.Jm)(le(n)),(0,M.FM)(Ut.createElement(t,n))}))}(n,e)}(n,e)}function te(t){return Xt(this,null,(function*(){return t?function(t){return!!t.widgetId}(t)?function(t){return Xt(this,arguments,(function*({objId:t,widgetId:e}){const n=yield(0,F.Hh)((()=>ee(t,e)));if(!n)throw new P.aS(`Missing widget with ID ${e}`);return{widget:(0,N.Dy)(n)}}))}(t):function(t){return Xt(this,arguments,(function*({objId:t}){const e=yield(0,F.Hh)((()=>re(t)));if(!e)throw new P.aS(`Missing obj with ID ${t}`);const n=(0,N.Dy)(e);return{obj:n,page:n}}))}(t):{}}))}function ee(t,e){if((0,Jt.gY)()){const[n,r]=(0,qt.d)();return ne(r,t,e)||ne(n,t,e)}return ne((0,S.eb)(),t,e)}function ne(t,e,n){const r=ie(t,e);if(r)return r.widget(n)}function re(t){if((0,Jt.gY)()){const[e,n]=(0,qt.d)();return ie(n,t)||ie(e,t)}return ie((0,S.eb)(),t)}function ie(t,e){return(0,S.ED)((0,S.aG)(t),e)}function oe(t){return"function"==typeof t||"object"==typeof t?t:"string"==typeof t?(0,M.K8)(t):null}function ae(t,e,n){const r=Nt(e);if(!r)return null;const i=r.find((e=>e.key===t));if(!i)return null;if(n){const t=function(t,e){if("properties"in t&&t.properties){let n;if(t.properties.forEach((t=>{if(Array.isArray(t)&&2===t.length){const[r,i]=t;r==e&&"string"!=typeof i&&"component"in i&&(n=i.component)}})),n)return n}}(i,n);if(t)return oe(t)}else if("component"in i&&i.component)return oe(i.component);return null}function se(t,e,n){const r=ae(t,e,n);if(r)return r;const i=e instanceof S.$R?St((0,S.eb)(),e.obj().id(),e.id()):_t((0,S.eb)(),e.id());if(i)for(const t of i)if(Array.isArray(t)&&2===t.length){const[,e]=t;if("string"!=typeof e&&"component"in e&&e.component)return oe(e.component)}return null}function le(t){return t.page?t.page.siteId():function(t){return!!t.widget}(t)?t.widget.obj().siteId():null}function ce(t,e){return n=this,r=null,i=function*(){const n=yield(0,F.Hh)((()=>S.kI.getIncludingDeleted(t)));if(!n)return;const r=n.widget(e);r&&(0,M.FM)(Ut.createElement(M.i1,{widget:r}))},new Promise(((t,e)=>{var o=t=>{try{s(i.next(t))}catch(t){e(t)}},a=t=>{try{s(i.throw(t))}catch(t){e(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((i=i.apply(n,r)).next())}));var n,r,i}function ue(t){var e;const n=(0,S.ED)((0,S.aG)((0,S.eb)()),t);if(!n)return;const r=n.objClass(),i=null==(e=(0,g.u)(r))?void 0:e.thumbnailForContent;if("function"==typeof i)try{return function(t){if(void 0===t)return;if(null===t)return;if(t instanceof S.yI){const e=de(t);if(void 0===e)return;if(e)return{blob:t.id()}}if(t instanceof N.OH&&t.isBinary()){const e=(0,N.zo)(t).get("blob",["binary"]);if(e){const t=de(e);if(void 0===t)return;if(t)return{blob:e.id()}}}throw new P.c1("The thumbnail must be either an instance of an image Obj, an image Binary, null or undefined.")}(i((0,N.Dy)(n)))}catch(t){(0,P.JL)(t)}}function de(t){return(0,F.qt)(void 0,(()=>t.isImage()))}function fe(t){var e;const n=A(t);if(!n)return;const r=null==(e=(0,g.u)(n.objClass()))?void 0:e.titleForContent;return"function"==typeof r?r(n):void 0}class pe{getAdapterSpec(){return(0,r.A)(I.b_,(()=>!0))}getCapabilities(){return{handleDataFiltersWithOperators:!0,useComparisonRange:!0,reloadOnEditingContextChange:!0,uiContext:!0,iteratesOver:!0,currentPageContext:!0,numericalFilterOperators:!0}}getContentBrowserConfiguration(t){return(0,E.n)((0,l._)(t))}getObjClassForContentTypeMapping(){return(0,c.p)()}getAuthGroups(){return(0,i.N)()}titleForObj(t){return fe(t)}descriptionForObj(t){var e;const n=A(t);if(!n)return;const r=null==(e=(0,g.u)(n.objClass()))?void 0:e.descriptionForContent;return"function"==typeof r?r(n):void 0}thumbnailForObj(t){return ue(t)}generalPropertiesForObj(t,e){return _t(t,e)}generalPropertiesForWidget(t,e,n){return St(t,e,n)}propertiesGroupsForObj(t,e){return function(t,e){const n=At(t,e);if(!n)return[];const r=Nt(n);return r&&Gt(r)||[]}(t,e)}propertiesGroupsForWidget(t,e,n){return function(t,e,n){const r=Tt(t,e,n);if(!r)return[];const i=Nt(r);return i&&Gt(i)||[]}(t,e,n)}executeCustomCommand(t){var e;null==(e=(0,w.ak)(t))||e.call(null)}titleForWidget(t,e){return function(t,e){const n=S.kI.getIncludingDeleted(t);if(null===n)return;const r=n.widget(e);return null!==r?(0,_.titleForBasicWidget)(r):void 0}(t,e)}initializeContentForObj(t){(0,y.OG)(t)}initializeContentForWidget(t,e){(0,y.T6)(t,e)}initializeCopy(t){bt((0,S.eb)(),t)}initializeObjCopy(t,e){bt(t,e)}initializeWidgetCopy(t,e,n){!function(t,e,n){mt(this,null,(function*(){var r;yield(0,vt.H)().finishReplicatingObj(t,e);const i=null==(r=yield ht(t,e))?void 0:r.widget(n);i&&yt((0,N.Dy)(i))}))}(t,e,n)}getClasses(){return(0,F.ql)((()=>[...X(),...Z(),...$()])).map((t=>Object.fromEntries(Object.entries(t).filter((([t,e])=>void 0!==e)))))}navigateTo(t){return e=this,n=null,r=function*(){return yield(0,o.vU)({objId:t}),{version:(0,s.lQ)()}},new Promise(((t,i)=>{var o=t=>{try{s(r.next(t))}catch(t){i(t)}},a=t=>{try{s(r.throw(t))}catch(t){i(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,a);s((r=r.apply(e,n)).next())}));var e,n,r}showCustomComponent(t,e){Zt(t,e)}showWidgetContent(t,e){ce(t,e)}objReplicationMessageStream(t,e){return D.Mm.get(t,e).replicationMessageStream()}getDocumentTitle(){return p.get()||""}getMenuPatch(){return(0,w.sO)()}getUrlFor(t,e={}){const n=S.kI.getIncludingDeleted(t);return n?(0,a.P)(n,e):null}getResolvedUrl(t){return function(t){const e=(0,ft.vA)(t);if(!e||!e.objId||"/"===e.sitePath)return null;const n={obj_id:e.objId},{hash:r,search:i}=new URL(t,"http://example.com"),o=r.replace(/^#/,"");return o&&(n.fragment=o),i&&(n.query=i),n}(t)}getHomepageId(){const t=(0,O.Q)();return t?t.id():null}getSiteIdForObj(t){return(0,k.uo)(t)}getElementBoundaries(t){return(0,v.bO)(t)}getContentZoneData(){return(0,u.A)()}getCropAspectRatios(){return(0,d.T)()}getCustomComponentDimensions(){return ut((0,P.YE)().querySelector("html"))}getScrollPosition(){return pt((0,P.YE)().querySelector("html"))}getCurrentAppLocation(){return ct()}getValidationReport(t){const e=S.kI.get(t);if(!e)return;const n=(0,_.runValidationsFor)(e),r=function(t){const e=[];return t.forEach((t=>{const n=(0,_.runValidationsFor)(t);n.length>0&&e.push({widgetId:t.id(),entries:n})})),e}(e.widgets());return{error:ge("error",n,r),warning:ge("warning",n,r),info:ge("info",n,r),objVersion:e.version()}}scrollIntoView(t){(0,C.R)(t)}getExtensionsUrl(){return(0,m.q)()}scrollToTop(){(0,P.VG)(0,0)}hasLayoutComponents(){return(0,M.tc)()}getForcedEditorLanguage(){return(0,b.V)()}getPreviewSizes(){return(0,j.f)()}wantsAutoAttributeConversion(){return(0,S.rF)()}getInitialContentDumpUrl(){var t;return null!=(t=(0,h.L)())?t:null}}function ge(t,e,n){return{obj:e.filter((e=>e.severity===t)),widgets:n.map((({widgetId:e,entries:n})=>({widgetId:e,entries:n.filter((e=>e.severity===t))})))}}var ve=n(9564);function me(){return(0,ve.zV)(I.b_,new pe,(t=>((0,P.JL)(t),t.message)))}}}]);